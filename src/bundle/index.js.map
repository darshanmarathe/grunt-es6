{"version":3,"sources":["../../jsx/index.js"],"names":["dom","Fragment","JSXComponent","Item","initState","state","setState","obj","func","console","log","BootJSX","OrderHistoryContaier","props","clicked","item","alert","search","e","name","target","value","ToggleList","$","is","items","slideToggle","DisplayName","showItems","ItemList","map","SetCaretAtEnd","elem","elemLen","length","document","selection","focus","oSel","createRange","moveStart","moveEnd","select","selectionStart","selectionEnd","isTextSelected","input","selecttxt","window","getSelection","text","OrderHistorySearch","setTimeout","querySelector","val","debounce","wait","immediate","timeout","executedFunction","context","args","arguments","later","apply","callNow","clearTimeout","OrderHistorySearchV2","render","width","container","getElementById","innerHTML","appendChild"],"mappings":"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","sourcesContent":["import { dom, Fragment, JSXComponent } from \"./mact/index.js\";\r\n\r\nimport { Item } from \"./components/Item\";\r\n\r\nconst initState = {\r\n  state: {},\r\n  setState: function (obj, func = null) {\r\n    console.log(\"old state\", this.state);\r\n    this.state = { ...this.state, ...obj };\r\n    console.log(\"new state\", this.state);\r\n    if (func == null) {\r\n      BootJSX(this.state);\r\n    } else {\r\n      func(obj);\r\n    }\r\n  },\r\n};\r\n\r\nconst OrderHistoryContaier = (props) => {\r\n  initState.state = { ...props };\r\n  let clicked = (item) => {\r\n    alert(item);\r\n  };\r\n  let search = (e) => {\r\n    console.log(e, \"e\");\r\n    initState.setState({ name: e.target.value });\r\n  };\r\n\r\n  let ToggleList = (e) => {\r\n    if ($(\"#list\").is(\":visible\")) {\r\n      initState.setState({ items: [...props.items, ...[4, 5, 6, 7]] });\r\n    }\r\n\r\n    $(\"#list\").slideToggle(1000);\r\n  };\r\n  return (\r\n    <div>\r\n      <OrderHistorySearchV2 name={props.name} search={search} />\r\n      <div>\r\n        <button class=\"btn\" onClick={ToggleList}>\r\n          Toggle With JQuery\r\n        </button>\r\n        <h3>\r\n          Example heading <span class=\"label label-default\">New</span>\r\n        </h3>\r\n        <p>This is a paragraph in a fragment</p>\r\n        <>\r\n          <h1>Hello {props.name}</h1>\r\n\r\n          <hr />\r\n          <spam> {props.DisplayName != null ? props.DisplayName : \"\"}</spam>\r\n        </>\r\n\r\n        {props.showItems ? (\r\n          <ItemList items={props.items} clicked={clicked} />\r\n        ) : (\r\n          <></>\r\n        )}\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nconst ItemList = (props) => {\r\n  return (\r\n    <ul id=\"list\">\r\n      {props.items.map((item) => (\r\n        <Item clicked={props.clicked} item={item}></Item>\r\n      ))}\r\n    </ul>\r\n  );\r\n};\r\n\r\nfunction SetCaretAtEnd(elem) {\r\n  if (elem === null) return;\r\n  var elemLen = elem.value.length;\r\n  // For IE Only\r\n  if (document.selection) {\r\n    // Set focus\r\n    elem.focus();\r\n    // Use IE Ranges\r\n    var oSel = document.selection.createRange();\r\n    // Reset position to 0 & then set at end\r\n    oSel.moveStart(\"character\", -elemLen);\r\n    oSel.moveStart(\"character\", elemLen);\r\n    oSel.moveEnd(\"character\", 0);\r\n    oSel.select();\r\n  } else if (elem.selectionStart || elem.selectionStart == \"0\") {\r\n    console.log(elem);\r\n    // Firefox/Chrome\r\n    elem.selectionStart = elemLen;\r\n    elem.selectionEnd = elemLen;\r\n    elem.focus();\r\n  } // if\r\n}\r\n\r\nconst isTextSelected = (input) => {\r\n  if (!input) return false;\r\n  var selecttxt = \"\";\r\n  if (window.getSelection) {\r\n    selecttxt = window.getSelection();\r\n  } else if (document.getSelection) {\r\n    selecttxt = document.getSelection();\r\n  } else if (document.selection) {\r\n    selecttxt = document.selection.createRange().text;\r\n  }\r\n\r\n  if (selecttxt == \"\") {\r\n    return false;\r\n  }\r\n  return true;\r\n};\r\n\r\nfunction OrderHistorySearch(props) {\r\n  setTimeout(() => {\r\n    SetCaretAtEnd(document.querySelector(\"#search\"));\r\n  }, 150);\r\n\r\n  return (\r\n    <input\r\n      id=\"search\"\r\n      type=\"search\"\r\n      placeholder=\"search something\"\r\n      value={props.name}\r\n      onKeyUp={function (e) {\r\n        let val = e.target.value;\r\n        props.search({\r\n          target: {\r\n            value: val,\r\n          },\r\n        });\r\n      }}\r\n    />\r\n  );\r\n}\r\n\r\nfunction debounce(func, wait, immediate) {\r\n  var timeout;\r\n\r\n  return function executedFunction() {\r\n    var context = this;\r\n    var args = arguments;\r\n\r\n    var later = function () {\r\n      timeout = null;\r\n      if (!immediate) func.apply(context, args);\r\n    };\r\n\r\n    var callNow = immediate && !timeout;\r\n\r\n    clearTimeout(timeout);\r\n\r\n    timeout = setTimeout(later, wait);\r\n\r\n    if (callNow) func.apply(context, args);\r\n  };\r\n}\r\n\r\nclass OrderHistorySearchV2 extends JSXComponent {\r\n  render(props) {\r\n    setTimeout(() => {\r\n      SetCaretAtEnd(document.querySelector(\"#search\"));\r\n    }, 10);\r\n    return (\r\n      <input\r\n        id=\"search\"\r\n        type=\"search\"\r\n        placeholder=\"search something\"\r\n        style={{ width: \"100%\" }}\r\n        value={props.name}\r\n        onKeyUp={debounce(function (e) {\r\n          if (!isTextSelected(e)) {\r\n            props.search(e);\r\n          }\r\n        }, 500)}\r\n      />\r\n    );\r\n  }\r\n}\r\n\r\nexport const BootJSX = (props, container = \"root\") => {\r\n  document.getElementById(container).innerHTML = \"\";\r\n  document\r\n    .getElementById(container)\r\n    .appendChild(<OrderHistoryContaier {...props} />);\r\n};\r\n"],"file":"index.js"}