{"version":3,"sources":["../../jsx/todoActions.js"],"names":["initState","FetchTodos","actions","HandleDelete","id","settings","url","method","timeout","headers","$","ajax","done","response","todos","state","filter","x","setState","HandleDone","todo","obj","console","log","data","JSON","stringify","map","HandleChange","HandleAdd","e","title","str","desc","date","toastr","success","HandleOpenClose","isOpen","More","page","pageSize","ReachedMax","loading","then","d","length"],"mappings":"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","sourcesContent":["import { initState } from \"./todo_componets/index\";\r\n\r\nimport FetchTodos from \"./todo_componets/api\";\r\n\r\nconst actions = {\r\n  HandleDelete(id) {\r\n    var settings = {\r\n      url: \"http://localhost:3000/todos/\" + id,\r\n      method: \"DELETE\",\r\n      timeout: 0,\r\n      headers: {\r\n        \"Content-Type\": \"application/json\",\r\n      },\r\n    };\r\n\r\n    $.ajax(settings).done((response) => {\r\n      let todos = initState.state.todos.filter((x) => x.id != id);\r\n      initState.setState({ todos: [...todos] });\r\n    });\r\n  },\r\n\r\n  HandleDone(todo) {\r\n    var obj = {};\r\n    obj.id = todo.id;\r\n    obj.done = !todo.done;\r\n    console.log(obj);\r\n    var settings = {\r\n      url: \"http://localhost:3000/todos/\" + todo.id,\r\n      method: \"PUT\",\r\n      timeout: 0,\r\n      headers: {\r\n        \"Content-Type\": \"application/json\",\r\n      },\r\n      data: JSON.stringify(obj),\r\n    };\r\n\r\n    $.ajax(settings).done((response) => {\r\n      console.log(response);\r\n      let todos = initState.state.todos.map((x) => {\r\n        if (x.id == response.id) {\r\n          return response;\r\n        } else {\r\n          return x;\r\n        }\r\n      });\r\n      initState.setState({ todos: [...todos] });\r\n    });\r\n  },\r\n  HandleChange(todo) {\r\n    var settings = {\r\n      url: \"http://localhost:3000/todos/\" + todo.id,\r\n      method: \"PUT\",\r\n      timeout: 0,\r\n      headers: {\r\n        \"Content-Type\": \"application/json\",\r\n      },\r\n      data: JSON.stringify(todo),\r\n    };\r\n\r\n    $.ajax(settings).done((response) => {\r\n      let todos = initState.state.todos.map((x) => {\r\n        if (x.id == response.id) {\r\n          return response;\r\n        } else {\r\n          return x;\r\n        }\r\n      });\r\n      initState.setState({ todos: [...todos] });\r\n    });\r\n  },\r\n  HandleAdd(e) {\r\n    var obj = {};\r\n    obj.title = e.str;\r\n    obj.done = false;\r\n    obj.desc = \"\";\r\n    obj.date = e.date;\r\n    console.log(obj);\r\n    var settings = {\r\n      url: \"http://localhost:3000/todos\",\r\n      method: \"POST\",\r\n      timeout: 0,\r\n      headers: {\r\n        \"Content-Type\": \"application/json\",\r\n      },\r\n      data: JSON.stringify(obj),\r\n    };\r\n\r\n    $.ajax(settings).done((response) => {\r\n      initState.setState({ todos: [...initState.state.todos, response] });\r\n      toastr.success(\"saved....\");\r\n    });\r\n  },\r\n  HandleOpenClose(todo) {\r\n    todo.isOpen = !todo.isOpen;\r\n    let todos = initState.state.todos.map((x) => {\r\n      if (x.id == todo.id) {\r\n        return todo;\r\n      } else {\r\n        return x;\r\n      }\r\n    });\r\n    initState.setState({ todos: [...todos] });\r\n  },\r\n  More() {\r\n    let { page, pageSize, todos , ReachedMax } = initState.state;\r\n    if(ReachedMax) return;\r\n    page = page + 1;\r\n    initState.setState({loading : true})\r\n    FetchTodos(page, pageSize).then((d) => {\r\n      initState.setState({ page, \r\n        todos: [...todos, ...d]  \r\n        , ReachedMax :d.length < pageSize \r\n        , loading : false});\r\n    });\r\n  },\r\n};\r\n\r\nexport default actions;\r\n"],"file":"todoActions.js"}