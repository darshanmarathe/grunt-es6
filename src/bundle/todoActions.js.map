{"version":3,"sources":["../../jsx/todoActions.js"],"names":["initState","FetchTodos","actions","HandleDelete","id","settings","url","method","timeout","headers","$","ajax","done","response","todos","state","filter","x","setState","HandleStatus","todo","obj","status","isOpen","data","JSON","stringify","console","log","map","HandleChange","getRandomColor","letters","color","i","Math","floor","random","HandleAdd","e","title","str","desc","date","toastr","success","HandleOpenClose","More","page","pageSize","ReachedMax","loading","then","d","length"],"mappings":"AAAA,SAASA,SAAT,QAA0B,wBAA1B;AAEA,OAAOC,UAAP,MAAuB,sBAAvB;AAEA,MAAMC,OAAO,GAAG;AACdC,EAAAA,YAAY,CAACC,EAAD,EAAK;AACf,QAAIC,QAAQ,GAAG;AACbC,MAAAA,GAAG,EAAE,iCAAiCF,EADzB;AAEbG,MAAAA,MAAM,EAAE,QAFK;AAGbC,MAAAA,OAAO,EAAE,CAHI;AAIbC,MAAAA,OAAO,EAAE;AACP,wBAAgB;AADT;AAJI,KAAf;AASAC,IAAAA,CAAC,CAACC,IAAF,CAAON,QAAP,EAAiBO,IAAjB,CAAuBC,QAAD,IAAc;AAClC,UAAIC,KAAK,GAAGd,SAAS,CAACe,KAAV,CAAgBD,KAAhB,CAAsBE,MAAtB,CAA8BC,CAAD,IAAOA,CAAC,CAACb,EAAF,IAAQA,EAA5C,CAAZ;AACAJ,MAAAA,SAAS,CAACkB,QAAV,CAAmB;AAAEJ,QAAAA,KAAK,EAAE,CAAC,GAAGA,KAAJ;AAAT,OAAnB;AACD,KAHD;AAID,GAfa;;AAiBdK,EAAAA,YAAY,CAACC,IAAD,EAAO;AACjB,QAAIC,GAAG,GAAG,EAAV;AACAA,IAAAA,GAAG,CAACjB,EAAJ,GAASgB,IAAI,CAAChB,EAAd;AACAiB,IAAAA,GAAG,CAACC,MAAJ,GAAaF,IAAI,CAACE,MAAlB;AACAD,IAAAA,GAAG,CAACT,IAAJ,GAAWQ,IAAI,CAACR,IAAhB;AACAS,IAAAA,GAAG,CAACE,MAAJ,GAAa,KAAb;AACA,QAAIlB,QAAQ,GAAG;AACbC,MAAAA,GAAG,EAAE,iCAAiCc,IAAI,CAAChB,EAD9B;AAEbG,MAAAA,MAAM,EAAE,KAFK;AAGbC,MAAAA,OAAO,EAAE,CAHI;AAIbC,MAAAA,OAAO,EAAE;AACP,wBAAgB;AADT,OAJI;AAObe,MAAAA,IAAI,EAAEC,IAAI,CAACC,SAAL,CAAeL,GAAf;AAPO,KAAf;AAUAX,IAAAA,CAAC,CAACC,IAAF,CAAON,QAAP,EAAiBO,IAAjB,CAAuBC,QAAD,IAAc;AAClCc,MAAAA,OAAO,CAACC,GAAR,CAAYf,QAAZ;AACA,UAAIC,KAAK,GAAGd,SAAS,CAACe,KAAV,CAAgBD,KAAhB,CAAsBe,GAAtB,CAA2BZ,CAAD,IAAO;AAC3C,YAAIA,CAAC,CAACb,EAAF,IAAQS,QAAQ,CAACT,EAArB,EAAyB;AACvB,iBAAOS,QAAP;AACD,SAFD,MAEO;AACL,iBAAOI,CAAP;AACD;AACF,OANW,CAAZ;AAOAjB,MAAAA,SAAS,CAACkB,QAAV,CAAmB;AAAEJ,QAAAA,KAAK,EAAE,CAAC,GAAGA,KAAJ;AAAT,OAAnB;AACD,KAVD;AAWD,GA5Ca;;AA6CdgB,EAAAA,YAAY,CAACV,IAAD,EAAO;AACjBO,IAAAA,OAAO,CAACC,GAAR,CAAYR,IAAZ;AACA,QAAIf,QAAQ,GAAG;AACbC,MAAAA,GAAG,EAAE,iCAAiCc,IAAI,CAAChB,EAD9B;AAEbG,MAAAA,MAAM,EAAE,KAFK;AAGbC,MAAAA,OAAO,EAAE,CAHI;AAIbC,MAAAA,OAAO,EAAE;AACP,wBAAgB;AADT,OAJI;AAObe,MAAAA,IAAI,EAAEC,IAAI,CAACC,SAAL,CAAeN,IAAf;AAPO,KAAf;AAUAV,IAAAA,CAAC,CAACC,IAAF,CAAON,QAAP,EAAiBO,IAAjB,CAAuBC,QAAD,IAAc;AAClC,UAAIC,KAAK,GAAGd,SAAS,CAACe,KAAV,CAAgBD,KAAhB,CAAsBe,GAAtB,CAA2BZ,CAAD,IAAO;AAC3C,YAAIA,CAAC,CAACb,EAAF,IAAQS,QAAQ,CAACT,EAArB,EAAyB;AACvB,iBAAOS,QAAP;AACD,SAFD,MAEO;AACL,iBAAOI,CAAP;AACD;AACF,OANW,CAAZ;AAOAjB,MAAAA,SAAS,CAACkB,QAAV,CAAmB;AAAEJ,QAAAA,KAAK,EAAE,CAAC,GAAGA,KAAJ;AAAT,OAAnB;AACD,KATD;AAUD,GAnEa;;AAoEdiB,EAAAA,cAAc,GAAG;AACf,UAAMC,OAAO,GAAG,kBAAhB;AACA,QAAIC,KAAK,GAAG,GAAZ;;AACA,SAAK,IAAIC,CAAC,GAAG,CAAb,EAAgBA,CAAC,GAAG,CAApB,EAAuBA,CAAC,EAAxB,EAA4B;AAC1BD,MAAAA,KAAK,IAAID,OAAO,CAACG,IAAI,CAACC,KAAL,CAAWD,IAAI,CAACE,MAAL,KAAgB,EAA3B,CAAD,CAAhB;AACD;;AACD,WAAOJ,KAAP;AACD,GA3Ea;;AA4EdK,EAAAA,SAAS,CAACC,CAAD,EAAI;AACX,QAAIlB,GAAG,GAAG,EAAV;AACAA,IAAAA,GAAG,CAACmB,KAAJ,GAAYD,CAAC,CAACE,GAAd;AACApB,IAAAA,GAAG,CAACT,IAAJ,GAAW,KAAX;AACAS,IAAAA,GAAG,CAACqB,IAAJ,GAAW,EAAX;AACArB,IAAAA,GAAG,CAACsB,IAAJ,GAAWJ,CAAC,CAACI,IAAb;AACAtB,IAAAA,GAAG,CAACC,MAAJ,GAAa,aAAb;AACAD,IAAAA,GAAG,CAACY,KAAJ,GAAY,KAAKF,cAAL,EAAZ;AACAJ,IAAAA,OAAO,CAACC,GAAR,CAAYP,GAAZ;AACA,QAAIhB,QAAQ,GAAG;AACbC,MAAAA,GAAG,EAAE,6BADQ;AAEbC,MAAAA,MAAM,EAAE,MAFK;AAGbC,MAAAA,OAAO,EAAE,CAHI;AAIbC,MAAAA,OAAO,EAAE;AACP,wBAAgB;AADT,OAJI;AAObe,MAAAA,IAAI,EAAEC,IAAI,CAACC,SAAL,CAAeL,GAAf;AAPO,KAAf;AAUAX,IAAAA,CAAC,CAACC,IAAF,CAAON,QAAP,EAAiBO,IAAjB,CAAuBC,QAAD,IAAc;AAClCb,MAAAA,SAAS,CAACkB,QAAV,CAAmB;AAAEJ,QAAAA,KAAK,EAAE,CAACD,QAAD,EAAW,GAAGb,SAAS,CAACe,KAAV,CAAgBD,KAA9B;AAAT,OAAnB;AACA8B,MAAAA,MAAM,CAACC,OAAP,CAAe,WAAf;AACD,KAHD;AAID,GAnGa;;AAoGdC,EAAAA,eAAe,CAAC1B,IAAD,EAAO;AACpBA,IAAAA,IAAI,CAACG,MAAL,GAAc,CAACH,IAAI,CAACG,MAApB;AACAI,IAAAA,OAAO,CAACC,GAAR,CAAa,MAAM,OAAN,GAAgBR,IAAI,CAAChB,EAAlC;AACA,QAAIU,KAAK,GAAGd,SAAS,CAACe,KAAV,CAAgBD,KAAhB,CAAsBe,GAAtB,CAA2BZ,CAAD,IAAO;AAC3C,UAAIA,CAAC,CAACb,EAAF,IAAQgB,IAAI,CAAChB,EAAjB,EAAqB;AACnB,eAAOgB,IAAP;AACD,OAFD,MAEO;AACL,eAAOH,CAAP;AACD;AACF,KANW,CAAZ;AAOAjB,IAAAA,SAAS,CAACkB,QAAV,CAAmB;AAAEJ,MAAAA,KAAK,EAAE,CAAC,GAAGA,KAAJ;AAAT,KAAnB;AAED,GAhHa;;AAiHdiC,EAAAA,IAAI,GAAG;AACL,QAAI;AAAEC,MAAAA,IAAF;AAAQC,MAAAA,QAAR;AAAkBnC,MAAAA,KAAlB;AAAyBoC,MAAAA;AAAzB,QAAwClD,SAAS,CAACe,KAAtD;AACA,QAAImC,UAAU,IAAIlD,SAAS,CAACe,KAAV,CAAgBoC,OAAlC,EAA2C;AAC3CH,IAAAA,IAAI,GAAGA,IAAI,GAAG,CAAd;AACAhD,IAAAA,SAAS,CAACkB,QAAV,CAAmB;AAAEiC,MAAAA,OAAO,EAAE;AAAX,KAAnB;AACAlD,IAAAA,UAAU,CAAC+C,IAAD,EAAOC,QAAP,CAAV,CAA2BG,IAA3B,CAAiCC,CAAD,IAAO;AACrCrD,MAAAA,SAAS,CAACkB,QAAV,CAAmB;AACjB8B,QAAAA,IADiB;AAEjBlC,QAAAA,KAAK,EAAE,CAAC,GAAGA,KAAJ,EAAW,GAAGuC,CAAd,CAFU;AAGfH,QAAAA,UAAU,EAAEG,CAAC,CAACC,MAAF,GAAWL,QAHR;AAIfE,QAAAA,OAAO,EAAE;AAJM,OAAnB;AAMD,KAPD;AAQD;;AA9Ha,CAAhB;AAiIA,eAAejD,OAAf","sourcesContent":["import { initState } from \"./todo_componets/index\";\r\n\r\nimport FetchTodos from \"./todo_componets/api\";\r\n\r\nconst actions = {\r\n  HandleDelete(id) {\r\n    var settings = {\r\n      url: \"http://localhost:3000/todos/\" + id,\r\n      method: \"DELETE\",\r\n      timeout: 0,\r\n      headers: {\r\n        \"Content-Type\": \"application/json\",\r\n      },\r\n    };\r\n\r\n    $.ajax(settings).done((response) => {\r\n      let todos = initState.state.todos.filter((x) => x.id != id);\r\n      initState.setState({ todos: [...todos] });\r\n    });\r\n  },\r\n\r\n  HandleStatus(todo) {\r\n    var obj = {};\r\n    obj.id = todo.id;\r\n    obj.status = todo.status;\r\n    obj.done = todo.done;\r\n    obj.isOpen = false;\r\n    var settings = {\r\n      url: \"http://localhost:3000/todos/\" + todo.id,\r\n      method: \"PUT\",\r\n      timeout: 0,\r\n      headers: {\r\n        \"Content-Type\": \"application/json\",\r\n      },\r\n      data: JSON.stringify(obj),\r\n    };\r\n\r\n    $.ajax(settings).done((response) => {\r\n      console.log(response);\r\n      let todos = initState.state.todos.map((x) => {\r\n        if (x.id == response.id) {\r\n          return response;\r\n        } else {\r\n          return x;\r\n        }\r\n      });\r\n      initState.setState({ todos: [...todos] });\r\n    });\r\n  },\r\n  HandleChange(todo) {\r\n    console.log(todo)\r\n    var settings = {\r\n      url: \"http://localhost:3000/todos/\" + todo.id,\r\n      method: \"PUT\",\r\n      timeout: 0,\r\n      headers: {\r\n        \"Content-Type\": \"application/json\",\r\n      },\r\n      data: JSON.stringify(todo),\r\n    };\r\n\r\n    $.ajax(settings).done((response) => {\r\n      let todos = initState.state.todos.map((x) => {\r\n        if (x.id == response.id) {\r\n          return response;\r\n        } else {\r\n          return x;\r\n        }\r\n      });\r\n      initState.setState({ todos: [...todos] });\r\n    });\r\n  },\r\n  getRandomColor() {\r\n    const letters = '0123456789ABCDEF';\r\n    let color = '#';\r\n    for (let i = 0; i < 6; i++) {\r\n      color += letters[Math.floor(Math.random() * 16)];\r\n    }\r\n    return color;\r\n  },\r\n  HandleAdd(e) {\r\n    var obj = {};\r\n    obj.title = e.str;\r\n    obj.done = false;\r\n    obj.desc = \"\";\r\n    obj.date = e.date;\r\n    obj.status = \"Not Started\";\r\n    obj.color = this.getRandomColor();\r\n    console.log(obj);\r\n    var settings = {\r\n      url: \"http://localhost:3000/todos\",\r\n      method: \"POST\",\r\n      timeout: 0,\r\n      headers: {\r\n        \"Content-Type\": \"application/json\",\r\n      },\r\n      data: JSON.stringify(obj),\r\n    };\r\n\r\n    $.ajax(settings).done((response) => {\r\n      initState.setState({ todos: [response, ...initState.state.todos] });\r\n      toastr.success(\"saved....\");\r\n    });\r\n  },\r\n  HandleOpenClose(todo) {\r\n    todo.isOpen = !todo.isOpen;\r\n    console.log(('#' + \"todo_\" + todo.id));\r\n    let todos = initState.state.todos.map((x) => {\r\n      if (x.id == todo.id) {\r\n        return todo;\r\n      } else {\r\n        return x;\r\n      }\r\n    });\r\n    initState.setState({ todos: [...todos] });\r\n\r\n  },\r\n  More() {\r\n    let { page, pageSize, todos, ReachedMax } = initState.state;\r\n    if (ReachedMax || initState.state.loading) return;\r\n    page = page + 1;\r\n    initState.setState({ loading: true })\r\n    FetchTodos(page, pageSize).then((d) => {\r\n      initState.setState({\r\n        page,\r\n        todos: [...todos, ...d]\r\n        , ReachedMax: d.length < pageSize\r\n        , loading: false\r\n      });\r\n    });\r\n  },\r\n};\r\n\r\nexport default actions;\r\n"],"file":"todoActions.js"}