{"version":3,"sources":["../../jsx/todoActions.js"],"names":["initState","FetchTodos","actions","HandleDelete","id","settings","url","method","timeout","headers","$","ajax","done","response","todos","state","filter","x","setState","HandleStatus","todo","obj","status","data","JSON","stringify","console","log","map","HandleChange","HandleAdd","e","title","str","desc","date","toastr","success","HandleOpenClose","isOpen","More","page","pageSize","ReachedMax","loading","then","d","length"],"mappings":"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","sourcesContent":["import { initState } from \"./todo_componets/index\";\r\n\r\nimport FetchTodos from \"./todo_componets/api\";\r\n\r\nconst actions = {\r\n  HandleDelete(id) {\r\n    var settings = {\r\n      url: \"http://localhost:3000/todos/\" + id,\r\n      method: \"DELETE\",\r\n      timeout: 0,\r\n      headers: {\r\n        \"Content-Type\": \"application/json\",\r\n      },\r\n    };\r\n\r\n    $.ajax(settings).done((response) => {\r\n      let todos = initState.state.todos.filter((x) => x.id != id);\r\n      initState.setState({ todos: [...todos] });\r\n    });\r\n  },\r\n\r\n  HandleStatus(todo) {\r\n    var obj = {};\r\n    obj.id = todo.id;\r\n    obj.status = todo.status;\r\n    obj.done = todo.done;\r\n    var settings = {\r\n      url: \"http://localhost:3000/todos/\" + todo.id,\r\n      method: \"PUT\",\r\n      timeout: 0,\r\n      headers: {\r\n        \"Content-Type\": \"application/json\",\r\n      },\r\n      data: JSON.stringify(obj),\r\n    };\r\n\r\n    $.ajax(settings).done((response) => {\r\n      console.log(response);\r\n      let todos = initState.state.todos.map((x) => {\r\n        if (x.id == response.id) {\r\n          return response;\r\n        } else {\r\n          return x;\r\n        }\r\n      });\r\n      initState.setState({ todos: [...todos] });\r\n    });\r\n  },\r\n  HandleChange(todo) {\r\n    console.log(todo)\r\n    var settings = {\r\n      url: \"http://localhost:3000/todos/\" + todo.id,\r\n      method: \"PUT\",\r\n      timeout: 0,\r\n      headers: {\r\n        \"Content-Type\": \"application/json\",\r\n      },\r\n      data: JSON.stringify(todo),\r\n    };\r\n\r\n    $.ajax(settings).done((response) => {\r\n      let todos = initState.state.todos.map((x) => {\r\n        if (x.id == response.id) {\r\n          return response;\r\n        } else {\r\n          return x;\r\n        }\r\n      });\r\n      initState.setState({ todos: [...todos] });\r\n    });\r\n  },\r\n  HandleAdd(e) {\r\n    var obj = {};\r\n    obj.title = e.str;\r\n    obj.done = false;\r\n    obj.desc = \"\";\r\n    obj.date = e.date;\r\n    obj.status = \"Not Started\";\r\n    console.log(obj);\r\n    var settings = {\r\n      url: \"http://localhost:3000/todos\",\r\n      method: \"POST\",\r\n      timeout: 0,\r\n      headers: {\r\n        \"Content-Type\": \"application/json\",\r\n      },\r\n      data: JSON.stringify(obj),\r\n    };\r\n\r\n    $.ajax(settings).done((response) => {\r\n      initState.setState({ todos: [response, ...initState.state.todos] });\r\n      toastr.success(\"saved....\");\r\n    });\r\n  },\r\n  HandleOpenClose(todo) {\r\n    todo.isOpen = !todo.isOpen;\r\n    console.log(('#' + \"todo_\" + todo.id));\r\n    let todos = initState.state.todos.map((x) => {\r\n      if (x.id == todo.id) {\r\n        return todo;\r\n      } else {\r\n        return x;\r\n      }\r\n    });\r\n    initState.setState({ todos: [...todos] });\r\n\r\n  },\r\n  More() {\r\n    let { page, pageSize, todos, ReachedMax } = initState.state;\r\n    if (ReachedMax || initState.state.loading) return;\r\n    page = page + 1;\r\n    initState.setState({ loading: true })\r\n    FetchTodos(page, pageSize).then((d) => {\r\n      initState.setState({\r\n        page,\r\n        todos: [...todos, ...d]\r\n        , ReachedMax: d.length < pageSize\r\n        , loading: false\r\n      });\r\n    });\r\n  },\r\n};\r\n\r\nexport default actions;\r\n"],"file":"todoActions.js"}