{"version":3,"sources":["../../../jsx/todo_componets/todo.js"],"names":["dom","Fragment","memoize","moment","initState","PeopleLookUp","Todo","props","renderTodo","todo","title","decoration","done","e","id","target","innerHTML","actions","HandleChange","date","format","color","value","Date","__html","isOpen","float","marginTop","fontWeight","console","log","$","length","toggle","HandleOpenClose","Delete_Click","confirm","HandleDelete","Handle_Popup","_id","colorbox","width","inline","html","onClosed","remove","css","Done_Click","HandleStatus","shadow","boxShadow","display","status","filter","x","map","desc"],"mappings":"AAAA,SAASA,GAAT,EAAcC,QAAd,EAAwBC,OAAxB,QAAuC,kBAAvC;AACA,OAAOC,MAAP,MAAmB,QAAnB;AACA,SAASC,SAAT,EAAoBC,YAApB,QAAwC,SAAxC,C,CAEA;;AACA,MAAMC,IAAI,GAAIC,KAAD,IAAW;AACtB,WAASC,UAAT,GAAsB;AACpB,QAAIC,IAAI,GAAGF,KAAK,CAACG,KAAN,IAAe,IAAf,GAAsB,WAAtB,GAAoCH,KAAK,CAACG,KAArD;AACA,UAAMC,UAAU,GAAGJ,KAAK,CAACK,IAAN,GAAa,cAAb,GAA8B,MAAjD;AACA,WAAO,sBAEL;AAAK,MAAA,KAAK,EAAC,UAAX;AACE,MAAA,KAAK,EAAE;AAAE,2BAAmBD;AAArB,OADT;AAC4C,MAAA,MAAM,EAAGE,CAAD,IAAO;AACvD,cAAMJ,IAAI,GAAG;AACXK,UAAAA,EAAE,EAAEP,KAAK,CAACO,EADC;AAEXJ,UAAAA,KAAK,EAAEG,CAAC,CAACE,MAAF,CAASC;AAFL,SAAb;AAIAZ,QAAAA,SAAS,CAACa,OAAV,CAAkBC,YAAlB,CAA+BT,IAA/B;AACD,OAPH;AAQE,MAAA,eAAe,EAAC,MARlB;AASE,MAAA,EAAE,EAAEF,KAAK,CAACO,EAAN,GAAW;AATjB,OAUGL,IAVH,CAFK,EAeL;AAAK,MAAA,KAAK,EAAC;AAAX,OACE;AAAM,MAAA,KAAK,EAAC;AAAZ,OACGN,MAAM,CAACI,KAAK,CAACY,IAAP,CAAN,CAAmBC,MAAnB,CAA0B,aAA1B,CADH,CADF,EAKE;AAAO,MAAA,IAAI,EAAC,OAAZ;AAAoB,MAAA,KAAK,EAAEb,KAAK,CAACc,KAAjC;AAAwC,MAAA,QAAQ,EAAGR,CAAD,IAAO;AACvD,cAAMJ,IAAI,GAAG;AACXK,UAAAA,EAAE,EAAEP,KAAK,CAACO,EADC;AAEXO,UAAAA,KAAK,EAAER,CAAC,CAACE,MAAF,CAASO;AAFL,SAAb;AAIAlB,QAAAA,SAAS,CAACa,OAAV,CAAkBC,YAAlB,CAA+BT,IAA/B;AACD;AAND,MALF,EAYE;AAAM,MAAA,KAAK,EAAC;AAAZ,OAEE;AAAM,MAAA,KAAK,EAAC;AAAZ,MAFF,EAGE;AAAO,MAAA,IAAI,EAAC,MAAZ;AAAmB,MAAA,KAAK,EAAC,kBAAzB;AAA4C,MAAA,KAAK,EAAE,IAAIc,IAAJ,CAAShB,KAAK,CAACY,IAAf,CAAnD;AAAyE,MAAA,QAAQ,EAAGN,CAAD,IAAO;AACxF,cAAMJ,IAAI,GAAG;AACXK,UAAAA,EAAE,EAAEP,KAAK,CAACO,EADC;AAEXK,UAAAA,IAAI,EAAEN,CAAC,CAACE,MAAF,CAASO;AAFJ,SAAb;AAIAlB,QAAAA,SAAS,CAACa,OAAV,CAAkBC,YAAlB,CAA+BT,IAA/B;AACD;AAND,MAHF,CAZF,EAwBE;AAAQ,MAAA,uBAAuB,EAAE;AAAEe,QAAAA,MAAM,EAAG,GAAEjB,KAAK,CAACkB,MAAN,GAAe,SAAf,GAA2B,SAAU;AAAlD,OAAjC;AAAwF,MAAA,KAAK,EAAE;AAAEC,QAAAA,KAAK,EAAE,OAAT;AAAkBC,QAAAA,SAAS,EAAE,KAA7B;AAAoCC,QAAAA,UAAU,EAAE;AAAhD,OAA/F;AAAyJ,MAAA,OAAO,EAAGf,CAAD,IAAO;AACvKgB,QAAAA,OAAO,CAACC,GAAR,CAAa,MAAM,OAAN,GAAgBvB,KAAK,CAACO,EAAnC,EAAwCiB,CAAC,CAAC,MAAM,OAAN,GAAgBxB,KAAK,CAACO,EAAvB,CAAD,CAA4BkB,MAApE;AACAD,QAAAA,CAAC,CAAC,MAAM,OAAN,GAAgBxB,KAAK,CAACO,EAAvB,CAAD,CAA4BmB,MAA5B,GAFuK,CAGvK;;AACA7B,QAAAA,SAAS,CAACa,OAAV,CAAkBiB,eAAlB,CAAkC3B,KAAlC,EAJuK,CAKvK;AAED;AAPD,MAxBF,CAfK,CAAP;AAmDD;;AAED,WAAS4B,YAAT,CAAsBtB,CAAtB,EAAyB;AACvB,QAAIuB,OAAO,CAAC,qCAAD,CAAX,EAAoD;AAClDhC,MAAAA,SAAS,CAACa,OAAV,CAAkBoB,YAAlB,CAA+BxB,CAAC,CAACC,EAAjC;AACD;AACF;;AAED,WAASwB,YAAT,CAAsBxB,EAAtB,EAA0B;AACxB,UAAMyB,GAAG,GAAI,IAAGzB,EAAG,EAAnB;AACAe,IAAAA,OAAO,CAACC,GAAR,CAAYS,GAAZ;AACAR,IAAAA,CAAC,CAACQ,GAAD,CAAD,CAAOC,QAAP,CAAgB;AACdC,MAAAA,KAAK,EAAE,OADO;AACEC,MAAAA,MAAM,EAAE,KADV;AACiBC,MAAAA,IAAI,EAAE,IAAC,YAAD,EAAkBpC,KAAlB,CADvB;AACoDqC,MAAAA,QAAQ,EAAE,YAAY;AACtFb,QAAAA,CAAC,CAACS,QAAF,CAAWK,MAAX;AACAd,QAAAA,CAAC,CAACQ,GAAD,CAAD,CAAOO,GAAP,CAAW,OAAX,EAAoB,EAApB;AACD;AAJa,KAAhB;AAQD;;AAED,WAASC,UAAT,CAAoBtC,IAApB,EAA0B;AAExBL,IAAAA,SAAS,CAACa,OAAV,CAAkB+B,YAAlB,CAA+BvC,IAA/B;AACD;;AAED,MAAIwC,MAAM,GAAG,cAAc1C,KAAK,CAACc,KAAN,IAAe,OAA7B,CAAb,CAjFsB,CAkFtB;;AACA,SACE;AAAK,IAAA,KAAK,EAAC,UAAX;AAAsB,IAAA,KAAK,EAAE;AAAE6B,MAAAA,SAAS,EAAED;AAAb,KAA7B;AAAoD,IAAA,EAAE,EAAE,aAAa1C,KAAK,CAACO,EAA3E;AAA+E,IAAA,WAAW,EAAID,CAAD,IAAO,CAClG;AACD,KAFD;AAGE,IAAA,UAAU,EAAIA,CAAD,IAAO,CAClB;AACD;AALH,KAMGN,KAAK,CAACK,IAAN,KAAe,IAAf,GAAsB,sBAAOJ,UAAU,EAAjB,MAAtB,GAAoDA,UAAU,EANjE,EAQE;AAAK,IAAA,EAAE,EAAE,UAAUD,KAAK,CAACO,EAAzB;AAA6B,IAAA,KAAK,EAAE;AAAEqC,MAAAA,OAAO,EAAE5C,KAAK,CAACkB,MAAN,GAAe,OAAf,GAAyB;AAApC;AAApC,KACE;AAAQ,IAAA,KAAK,EAAElB,KAAK,CAAC6C,MAArB;AAA6B,IAAA,QAAQ,EAAGvC,CAAD,IAAO;AAC5C,YAAMJ,IAAI,GAAG;AACXK,QAAAA,EAAE,EAAEP,KAAK,CAACO,EADC;AAEXsC,QAAAA,MAAM,EAAEvC,CAAC,CAACE,MAAF,CAASO,KAFN;AAGXV,QAAAA,IAAI,EAAGC,CAAC,CAACE,MAAF,CAASO,KAAT,KAAmB;AAHf,OAAb;AAKAyB,MAAAA,UAAU,CAACtC,IAAD,CAAV;AACD;AAPD,KAQE;AAAQ,IAAA,KAAK,EAAEF,KAAK,CAAC6C;AAArB,KAA8B7C,KAAK,CAAC6C,MAApC,CARF,EASG,CAAC,aAAD,EAAgB,kBAAhB,EAAoC,OAApC,EAA6C,MAA7C,EACEC,MADF,CACSC,CAAC,IAAIA,CAAC,IAAI/C,KAAK,CAAC6C,MADzB,EAEEG,GAFF,CAEOD,CAAD,IAAO;AAAQ,IAAA,KAAK,EAAEA;AAAf,KAAmBA,CAAnB,CAFb,CATH,CADF,EAcE;AACE,IAAA,OAAO,EAAGzC,CAAD,IAAO;AACdsB,MAAAA,YAAY,CAAC5B,KAAD,CAAZ;AACD;AAHH,SAdF,EAqBGA,KAAK,CAACiD,IAAN,IAAc,IAAd,IACC;AACE,IAAA,OAAO,EAAG3C,CAAD,IAAO;AACd;AACA;AACAyB,MAAAA,YAAY,CAAC,aAAa/B,KAAK,CAACO,EAApB,CAAZ;AACD;AALH,WAtBJ,EAgCGP,KAAK,CAACiD,IAAN,IAAc,IAAd,IACC;AAAK,IAAA,KAAK,EAAC,MAAX;AACE,IAAA,MAAM,EAAG3C,CAAD,IAAO;AACb,UAAIJ,IAAI,GAAG;AACTK,QAAAA,EAAE,EAAEP,KAAK,CAACO,EADD;AAET0C,QAAAA,IAAI,EAAE3C,CAAC,CAACE,MAAF,CAASC,SAFN;AAGTS,QAAAA,MAAM,EAAE;AAHC,OAAX;AAMArB,MAAAA,SAAS,CAACa,OAAV,CAAkBC,YAAlB,CAA+BT,IAA/B;AACD,KATH;AAUE,IAAA,eAAe,EAAC,MAVlB;AAWE,IAAA,EAAE,EAAEF,KAAK,CAACO,EAAN,GAAW;AAXjB,KAcGP,KAAK,CAACiD,IAdT,CAjCJ,CARF,CADF;AA+DD,CAlJD;;AAoJA,eAAetD,OAAO,CAACI,IAAD,CAAtB","sourcesContent":["import { dom, Fragment, memoize } from \"../mact/index.js\";\r\nimport moment from 'moment'\r\nimport { initState, PeopleLookUp } from \"./index\";\r\n\r\n// Todo Component\r\nconst Todo = (props) => {\r\n  function renderTodo() {\r\n    let todo = props.title == null ? \"Junk data\" : props.title;\r\n    const decoration = props.done ? 'line-through' : 'none'\r\n    return <>\r\n\r\n      <div class=\"titleDiv\"\r\n        style={{ 'text-decoration': decoration }} onBlur={(e) => {\r\n          const todo = {\r\n            id: props.id,\r\n            title: e.target.innerHTML\r\n          };\r\n          initState.actions.HandleChange(todo);\r\n        }}\r\n        contentEditable=\"true\"\r\n        id={props.id + \"_title\"}>\r\n        {todo}\r\n      </div>\r\n\r\n      <div class=\"controlsContainer\">\r\n        <span class=\"dateContainer\">\r\n          {moment(props.date).format(\"Do MMM YYYY\")}\r\n        </span>\r\n\r\n        <input type=\"color\" value={props.color} onChange={(e) => {\r\n          const todo = {\r\n            id: props.id,\r\n            color: e.target.value\r\n          };\r\n          initState.actions.HandleChange(todo);\r\n        }} />\r\n        <span class=\"datepicker-toggle\">\r\n\r\n          <span class=\"datepicker-toggle-button\"></span>\r\n          <input type=\"date\" class=\"datepicker-input\" value={new Date(props.date)} onChange={(e) => {\r\n            const todo = {\r\n              id: props.id,\r\n              date: e.target.value\r\n            };\r\n            initState.actions.HandleChange(todo);\r\n          }} />\r\n        </span>\r\n\r\n        <button dangerouslySetInnerHTML={{ __html: `${props.isOpen ? '&#8593;' : '&#8595;'}` }} style={{ float: 'right', marginTop: '5px', fontWeight: 'bold' }} onClick={(e) => {\r\n          console.log(('#' + \"todo_\" + props.id), $('#' + \"todo_\" + props.id).length);\r\n          $('#' + \"todo_\" + props.id).toggle();\r\n          //        setTimeout(() => {\r\n          initState.actions.HandleOpenClose(props);\r\n          //      }, 3100);\r\n\r\n        }}>\r\n\r\n        </button>\r\n      </div>\r\n    </>\r\n  }\r\n\r\n  function Delete_Click(e) {\r\n    if (confirm(\"Do you want to delete this record ?\")) {\r\n      initState.actions.HandleDelete(e.id);\r\n    }\r\n  }\r\n\r\n  function Handle_Popup(id) {\r\n    const _id = `#${id}`;\r\n    console.log(_id);\r\n    $(_id).colorbox({\r\n      width: \"600px\", inline: false, html: <PeopleLookUp {...props} />, onClosed: function () {\r\n        $.colorbox.remove();\r\n        $(_id).css('width', '');\r\n      }\r\n    });\r\n\r\n\r\n  }\r\n\r\n  function Done_Click(todo) {\r\n\r\n    initState.actions.HandleStatus(todo);\r\n  }\r\n\r\n  let shadow = '5px 0px ' + (props.color || 'black');\r\n  //style={{ 'box-shadow': shadow }}\r\n  return (\r\n    <div class=\"todoItem\" style={{ boxShadow: shadow }} id={\"todoItem\" + props.id} onMouseOver={((e) => {\r\n      //e.target.style.boxShadow = shadow\r\n    })}\r\n      onMouseOut={((e) => {\r\n        //e.target.style.boxShadow = '';\r\n      })}>\r\n      {props.done === true ? <del> {renderTodo()} </del> : renderTodo()}\r\n\r\n      <div id={\"todo_\" + props.id} style={{ display: props.isOpen ? \"block\" : \"none\" }}>\r\n        <select value={props.status} onChange={(e) => {\r\n          const todo = {\r\n            id: props.id,\r\n            status: e.target.value,\r\n            done: (e.target.value === \"Done\")\r\n          };\r\n          Done_Click(todo);\r\n        }}>\r\n          <option value={props.status}>{props.status}</option>\r\n          {[\"Not Started\", \"Work in Progress\", \"Stuck\", \"Done\"]\r\n            .filter(x => x != props.status)\r\n            .map((x) => <option value={x}>{x}</option>)}\r\n        </select>\r\n        <button\r\n          onClick={(e) => {\r\n            Delete_Click(props);\r\n          }}\r\n        >\r\n          X\r\n        </button>\r\n        {props.desc != null && (\r\n          <button\r\n            onClick={(e) => {\r\n              // $(\"#\" + props.id + \"div\").slideToggle();\r\n              // initState.actions.HandleOpenClose(props);\r\n              Handle_Popup(\"todoItem\" + props.id)\r\n            }}\r\n          >\r\n            ...\r\n          </button>\r\n        )}\r\n        {props.desc != null && (\r\n          <div class=\"desc\"\r\n            onBlur={(e) => {\r\n              var todo = {\r\n                id: props.id,\r\n                desc: e.target.innerHTML,\r\n                isOpen: true,\r\n              };\r\n\r\n              initState.actions.HandleChange(todo);\r\n            }}\r\n            contentEditable=\"true\"\r\n            id={props.id + \"div\"}\r\n\r\n          >\r\n            {props.desc}\r\n          </div>\r\n        )}\r\n\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default memoize(Todo);\r\n"],"file":"todo.js"}