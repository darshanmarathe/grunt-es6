{"version":3,"sources":["../../../jsx/todo_componets/todo.js"],"names":["dom","Fragment","memoize","moment","initState","PeopleLookUp","Todo","props","renderTodo","todo","title","decoration","done","e","id","target","innerHTML","actions","HandleChange","status","marginTop","value","Done_Click","statuses","filter","x","map","Delete_Click","Handle_Popup","date","format","color","Date","__html","isOpen","float","fontWeight","console","log","$","length","toggle","HandleOpenClose","confirm","HandleDelete","_id","colorbox","width","inline","html","onClosed","remove","css","HandleStatus","shadow","boxShadow","display","desc"],"mappings":"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","sourcesContent":["import { dom, Fragment, memoize } from \"../mact/index.js\";\r\nimport moment from 'moment'\r\nimport { initState, PeopleLookUp } from \"./index\";\r\n\r\n// Todo Component\r\nconst Todo = (props) => {\r\n  function renderTodo() {\r\n    let todo = props.title == null ? \"Junk data\" : props.title;\r\n    const decoration = props.done ? 'line-through' : 'none'\r\n    return <>\r\n\r\n      <div class=\"titleDiv\"\r\n        style={{ 'text-decoration': decoration }} onBlur={(e) => {\r\n          const todo = {\r\n            id: props.id,\r\n            title: e.target.innerHTML\r\n          };\r\n          initState.actions.HandleChange(todo);\r\n        }}\r\n        contentEditable=\"true\"\r\n        id={props.id + \"_title\"}>\r\n        {todo}\r\n      </div>\r\n\r\n      <div class=\"controlsContainer\">\r\n        <select value={props.status} style={{ marginTop: '5px' }} onChange={(e) => {\r\n          const todo = {\r\n            id: props.id,\r\n            status: e.target.value,\r\n            done: (e.target.value === \"Done\")\r\n          };\r\n          Done_Click(todo);\r\n        }}>\r\n          <option value={props.status}>{props.status}</option>\r\n          {initState.statuses.filter(x => x != props.status)\r\n            .map((x) => <option value={x}>{x}</option>)}\r\n        </select>\r\n        <button\r\n          onClick={(e) => {\r\n            Delete_Click(props);\r\n          }}\r\n        >\r\n          X\r\n        </button>\r\n        <button\r\n          onClick={(e) => {\r\n            // $(\"#\" + props.id + \"div\").slideToggle();\r\n            // initState.actions.HandleOpenClose(props);\r\n            Handle_Popup(\"todoItem\" + props.id)\r\n          }}\r\n        >\r\n          ...\r\n          </button>\r\n\r\n        <span class=\"dateContainer\">\r\n          {moment(props.date).format(\"Do MMM YYYY\")}\r\n        </span>\r\n\r\n        <input type=\"color\" value={props.color} onChange={(e) => {\r\n          const todo = {\r\n            id: props.id,\r\n            color: e.target.value\r\n          };\r\n          initState.actions.HandleChange(todo);\r\n        }} />\r\n        <span class=\"datepicker-toggle\">\r\n\r\n          <span class=\"datepicker-toggle-button\"></span>\r\n          <input type=\"date\" class=\"datepicker-input\" value={new Date(props.date)} onChange={(e) => {\r\n            const todo = {\r\n              id: props.id,\r\n              date: e.target.value\r\n            };\r\n            initState.actions.HandleChange(todo);\r\n          }} />\r\n        </span>\r\n\r\n        <button dangerouslySetInnerHTML={{ __html: `${props.isOpen ? '&#8593;' : '&#8595;'}` }} style={{ float: 'right', marginTop: '5px', fontWeight: 'bold' }} onClick={(e) => {\r\n          console.log(('#' + \"todo_\" + props.id), $('#' + \"todo_\" + props.id).length);\r\n          $('#' + \"todo_\" + props.id).toggle();\r\n          //        setTimeout(() => {\r\n          initState.actions.HandleOpenClose(props);\r\n          //      }, 3100);\r\n\r\n        }}>\r\n\r\n        </button>\r\n      </div>\r\n    </>\r\n  }\r\n\r\n  function Delete_Click(e) {\r\n    if (confirm(\"Do you want to delete this record ?\")) {\r\n      initState.actions.HandleDelete(e.id);\r\n    }\r\n  }\r\n\r\n  function Handle_Popup(id) {\r\n    const _id = `#${id}`;\r\n    console.log(_id);\r\n    $(_id).colorbox({\r\n      width: \"600px\", inline: false, html: <PeopleLookUp {...props} />, onClosed: function () {\r\n        $.colorbox.remove();\r\n        $(_id).css('width', '');\r\n      }\r\n    });\r\n\r\n\r\n  }\r\n\r\n  function Done_Click(todo) {\r\n\r\n    initState.actions.HandleStatus(todo);\r\n  }\r\n\r\n  let shadow = '5px 1px ' + (props.color || 'black');\r\n  //style={{ 'box-shadow': shadow }}\r\n  return (\r\n    <div class=\"todoItem\" style={{ boxShadow: shadow }} id={\"todoItem\" + props.id} onMouseOver={((e) => {\r\n      //e.target.style.boxShadow = shadow\r\n    })}\r\n      onMouseOut={((e) => {\r\n        //e.target.style.boxShadow = '';\r\n      })}>\r\n      {props.done === true ? <del> {renderTodo()} </del> : renderTodo()}\r\n\r\n      <div id={\"todo_\" + props.id} style={{ display: props.isOpen ? \"block\" : \"none\" }}>\r\n        <br />\r\n        <br />\r\n\r\n        <div class=\"desc\"\r\n          onBlur={(e) => {\r\n            var todo = {\r\n              id: props.id,\r\n              desc: e.target.innerHTML,\r\n              isOpen: true,\r\n            };\r\n\r\n            initState.actions.HandleChange(todo);\r\n          }}\r\n          contentEditable=\"true\"\r\n          id={props.id + \"div\"}\r\n\r\n        >\r\n          {props.desc}\r\n        </div>\r\n\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default memoize(Todo);\r\n"],"file":"todo.js"}