{"version":3,"sources":["../../../jsx/todo_componets/todo.js"],"names":["dom","Fragment","memoize","moment","initState","TaskFlyOut","HOC","UserComponent","Todo","props","renderTodo","todo","title","decoration","done","e","id","target","innerHTML","actions","HandleChange","float","status","marginTop","value","Done_Click","statuses","filter","x","map","Delete_Click","Handle_Popup","__html","isOpen","fontWeight","$","toggle","HandleOpenClose","date","format","color","Date","confirm","HandleDelete","_id","console","log","colorbox","width","inline","html","onClosed","remove","css","HandleStatus","shadow","boxShadow","display","desc"],"mappings":"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","sourcesContent":["import { dom, Fragment, memoize } from \"../mact/index.js\";\r\nimport moment from \"moment\";\r\nimport { initState, TaskFlyOut } from \"./index\";\r\nimport { HOC, UserComponent } from \"./Hoc.js\";\r\n\r\n// Todo Component\r\nconst Todo = (props) => {\r\n  function renderTodo() {\r\n    let todo = props.title == null ? \"Junk data\" : props.title;\r\n    const decoration = props.done ? \"line-through\" : \"none\";\r\n    return (\r\n      <>\r\n        <div\r\n          class=\"titleDiv\"\r\n          style={{ \"text-decoration\": decoration }}\r\n          onBlur={(e) => {\r\n            const todo = {\r\n              id: props.id,\r\n              title: e.target.innerHTML,\r\n            };\r\n            initState.actions.HandleChange(todo);\r\n          }}\r\n          contentEditable=\"true\"\r\n          id={props.id + \"_title\"}\r\n        >\r\n          {todo}\r\n        </div>\r\n\r\n        <div class=\"controlsContainer\">\r\n\r\n          <HOC id={props.id} component={UserComponent}>\r\n            <button style={{ float: 'left' }} class=\"btn\">+</button>\r\n          </HOC>\r\n          <select\r\n            value={props.status}\r\n            style={{ marginTop: \"5px\" }}\r\n            onChange={(e) => {\r\n              const todo = {\r\n                id: props.id,\r\n                status: e.target.value,\r\n                done: e.target.value === \"Done\",\r\n              };\r\n              Done_Click(todo);\r\n            }}\r\n          >\r\n            <option value={props.status}>{props.status}</option>\r\n            {initState.statuses\r\n              .filter((x) => x != props.status)\r\n              .map((x) => (\r\n                <option value={x}>{x}</option>\r\n              ))}\r\n          </select>\r\n\r\n          <button\r\n            onClick={(e) => {\r\n              Delete_Click(props);\r\n            }}\r\n          >\r\n            X\r\n          </button>\r\n          <button\r\n            style={{ float: 'left' }}\r\n            onClick={(e) => {\r\n              // $(\"#\" + props.id + \"div\").slideToggle();\r\n              // initState.actions.HandleOpenClose(props);\r\n              Handle_Popup(\"todoItem\" + props.id);\r\n            }}\r\n          >\r\n            ...\r\n          </button>\r\n          <button\r\n            dangerouslySetInnerHTML={{\r\n              __html: `${props.isOpen ? \"&#8593;\" : \"&#8595;\"}`,\r\n            }}\r\n            style={{ float: \"left\", fontWeight: \"bold\" }}\r\n            onClick={(e) => {\r\n              $(\"#\" + \"todo_\" + props.id).toggle();\r\n              initState.actions.HandleOpenClose(props);\r\n            }}\r\n          ></button>\r\n          <span class=\"dateContainer\">\r\n            {moment(props.date).format(\"Do MMM YYYY\")}\r\n          </span>\r\n\r\n          <input\r\n            type=\"color\"\r\n            value={props.color}\r\n            onChange={(e) => {\r\n              const todo = {\r\n                id: props.id,\r\n                color: e.target.value,\r\n              };\r\n              initState.actions.HandleChange(todo);\r\n            }}\r\n          />\r\n\r\n          <span class=\"datepicker-toggle\">\r\n            <span class=\"datepicker-toggle-button\"></span>\r\n            <input\r\n              type=\"date\"\r\n              class=\"datepicker-input\"\r\n              value={new Date(props.date)}\r\n              onChange={(e) => {\r\n                const todo = {\r\n                  id: props.id,\r\n                  date: e.target.value,\r\n                };\r\n                initState.actions.HandleChange(todo);\r\n              }}\r\n            />\r\n          </span>\r\n\r\n\r\n        </div>\r\n      </>\r\n    );\r\n  }\r\n\r\n  function Delete_Click(e) {\r\n    if (confirm(\"Do you want to delete this record ?\")) {\r\n      initState.actions.HandleDelete(e.id);\r\n    }\r\n  }\r\n\r\n  function Handle_Popup(id) {\r\n    const _id = `#${id}`;\r\n    console.log(_id);\r\n    $(_id).colorbox({\r\n      width: \"600px\",\r\n      inline: false,\r\n      html: <TaskFlyOut {...props} />,\r\n      onClosed: function () {\r\n        $.colorbox.remove();\r\n        $(_id).css(\"width\", \"\");\r\n      },\r\n    });\r\n  }\r\n\r\n  function Done_Click(todo) {\r\n    initState.actions.HandleStatus(todo);\r\n  }\r\n\r\n  let shadow = \"5px 1px \" + (props.color || \"black\");\r\n  //style={{ 'box-shadow': shadow }}\r\n  return (\r\n    <div\r\n      class=\"todoItem\"\r\n      style={{ boxShadow: shadow }}\r\n      id={\"todoItem\" + props.id}\r\n      onMouseOver={(e) => {\r\n        //e.target.style.boxShadow = shadow\r\n      }}\r\n      onMouseOut={(e) => {\r\n        //e.target.style.boxShadow = '';\r\n      }}\r\n    >\r\n      {props.done === true ? <del> {renderTodo()} </del> : renderTodo()}\r\n\r\n      <div\r\n        id={\"todo_\" + props.id}\r\n        style={{ display: props.isOpen ? \"block\" : \"none\" }}\r\n      >\r\n        <br />\r\n        <br />\r\n\r\n        <div\r\n          class=\"desc\"\r\n          onBlur={(e) => {\r\n            var todo = {\r\n              id: props.id,\r\n              desc: e.target.innerHTML,\r\n              isOpen: true,\r\n            };\r\n\r\n            initState.actions.HandleChange(todo);\r\n          }}\r\n          contentEditable=\"true\"\r\n          id={props.id + \"div\"}\r\n        >\r\n          {props.desc}\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default memoize(Todo);\r\n"],"file":"todo.js"}