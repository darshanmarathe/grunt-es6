import { dom, Fragment, memoize } from "../mact/index.js";
import moment from 'moment';
import { initState } from "./index"; // Todo Component

const Todo = props => {
  function renderTodo() {
    let todo = props.title == null ? "Junk data" : props.title;
    return todo;
  }

  function Delete_Click(e) {
    if (confirm("Do you want to delete this record ?")) {
      initState.actions.HandleDelete(e);
    }
  }

  function Done_Click(todo) {
    initState.actions.HandleDone(todo);
  }

  return dom("li", null, props.done === true ? dom("del", null, " ", renderTodo(), " ") : renderTodo(), dom("br", null), moment(props.date).format("MMM Do YY"), dom("button", {
    onClick: e => {
      Delete_Click(props.id);
    }
  }, "X"), dom("button", {
    onClick: e => {
      Done_Click(props);
    }
  }, props.done == true ? "undone" : "done"), props.desc != null && dom("button", {
    onClick: e => {
      $("#" + props.id + "div").slideToggle();
      initState.actions.HandleOpenClose(props);
    }
  }, "..."), dom("br", null), props.desc != null && dom("div", {
    onBlur: e => {
      var todo = {
        id: props.id,
        desc: e.target.innerHTML,
        isOpen: true
      };
      initState.actions.HandleChange(todo);
    },
    contentEditable: "true",
    id: props.id + "div",
    style: {
      display: props.isOpen ? "block" : "none"
    }
  }, props.desc));
};

export default memoize(Todo);
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi4uLy4uLy4uL2pzeC90b2RvX2NvbXBvbmV0cy90b2RvLmpzIl0sIm5hbWVzIjpbImRvbSIsIkZyYWdtZW50IiwibWVtb2l6ZSIsIm1vbWVudCIsImluaXRTdGF0ZSIsIlRvZG8iLCJwcm9wcyIsInJlbmRlclRvZG8iLCJ0b2RvIiwidGl0bGUiLCJEZWxldGVfQ2xpY2siLCJlIiwiY29uZmlybSIsImFjdGlvbnMiLCJIYW5kbGVEZWxldGUiLCJEb25lX0NsaWNrIiwiSGFuZGxlRG9uZSIsImRvbmUiLCJkYXRlIiwiZm9ybWF0IiwiaWQiLCJkZXNjIiwiJCIsInNsaWRlVG9nZ2xlIiwiSGFuZGxlT3BlbkNsb3NlIiwidGFyZ2V0IiwiaW5uZXJIVE1MIiwiaXNPcGVuIiwiSGFuZGxlQ2hhbmdlIiwiZGlzcGxheSJdLCJtYXBwaW5ncyI6IkFBQUEsU0FBU0EsR0FBVCxFQUFjQyxRQUFkLEVBQXdCQyxPQUF4QixRQUF1QyxrQkFBdkM7QUFDQSxPQUFPQyxNQUFQLE1BQW1CLFFBQW5CO0FBQ0EsU0FBU0MsU0FBVCxRQUEwQixTQUExQixDLENBQ0E7O0FBQ0EsTUFBTUMsSUFBSSxHQUFJQyxLQUFELElBQVc7QUFDdEIsV0FBU0MsVUFBVCxHQUFzQjtBQUNwQixRQUFJQyxJQUFJLEdBQUdGLEtBQUssQ0FBQ0csS0FBTixJQUFlLElBQWYsR0FBc0IsV0FBdEIsR0FBb0NILEtBQUssQ0FBQ0csS0FBckQ7QUFDQSxXQUFPRCxJQUFQO0FBQ0Q7O0FBRUQsV0FBU0UsWUFBVCxDQUFzQkMsQ0FBdEIsRUFBeUI7QUFDdkIsUUFBSUMsT0FBTyxDQUFDLHFDQUFELENBQVgsRUFBb0Q7QUFDbERSLE1BQUFBLFNBQVMsQ0FBQ1MsT0FBVixDQUFrQkMsWUFBbEIsQ0FBK0JILENBQS9CO0FBQ0Q7QUFDRjs7QUFFRCxXQUFTSSxVQUFULENBQW9CUCxJQUFwQixFQUEwQjtBQUN4QkosSUFBQUEsU0FBUyxDQUFDUyxPQUFWLENBQWtCRyxVQUFsQixDQUE2QlIsSUFBN0I7QUFDRDs7QUFFRCxTQUNFLGdCQUNHRixLQUFLLENBQUNXLElBQU4sS0FBZSxJQUFmLEdBQXNCLHNCQUFPVixVQUFVLEVBQWpCLE1BQXRCLEdBQW9EQSxVQUFVLEVBRGpFLEVBRUMsZUFGRCxFQUdHSixNQUFNLENBQUNHLEtBQUssQ0FBQ1ksSUFBUCxDQUFOLENBQW1CQyxNQUFuQixDQUEwQixXQUExQixDQUhILEVBSUU7QUFDRSxJQUFBLE9BQU8sRUFBR1IsQ0FBRCxJQUFPO0FBQ2RELE1BQUFBLFlBQVksQ0FBQ0osS0FBSyxDQUFDYyxFQUFQLENBQVo7QUFDRDtBQUhILFNBSkYsRUFXRTtBQUNFLElBQUEsT0FBTyxFQUFHVCxDQUFELElBQU87QUFDZEksTUFBQUEsVUFBVSxDQUFDVCxLQUFELENBQVY7QUFDRDtBQUhILEtBS0dBLEtBQUssQ0FBQ1csSUFBTixJQUFjLElBQWQsR0FBcUIsUUFBckIsR0FBZ0MsTUFMbkMsQ0FYRixFQWtCR1gsS0FBSyxDQUFDZSxJQUFOLElBQWMsSUFBZCxJQUNDO0FBQ0UsSUFBQSxPQUFPLEVBQUdWLENBQUQsSUFBTztBQUNkVyxNQUFBQSxDQUFDLENBQUMsTUFBTWhCLEtBQUssQ0FBQ2MsRUFBWixHQUFpQixLQUFsQixDQUFELENBQTBCRyxXQUExQjtBQUNBbkIsTUFBQUEsU0FBUyxDQUFDUyxPQUFWLENBQWtCVyxlQUFsQixDQUFrQ2xCLEtBQWxDO0FBQ0Q7QUFKSCxXQW5CSixFQTRCRSxlQTVCRixFQTZCR0EsS0FBSyxDQUFDZSxJQUFOLElBQWMsSUFBZCxJQUNDO0FBQ0UsSUFBQSxNQUFNLEVBQUdWLENBQUQsSUFBTztBQUNiLFVBQUlILElBQUksR0FBRztBQUNUWSxRQUFBQSxFQUFFLEVBQUVkLEtBQUssQ0FBQ2MsRUFERDtBQUVUQyxRQUFBQSxJQUFJLEVBQUVWLENBQUMsQ0FBQ2MsTUFBRixDQUFTQyxTQUZOO0FBR1RDLFFBQUFBLE1BQU0sRUFBRTtBQUhDLE9BQVg7QUFNQXZCLE1BQUFBLFNBQVMsQ0FBQ1MsT0FBVixDQUFrQmUsWUFBbEIsQ0FBK0JwQixJQUEvQjtBQUNELEtBVEg7QUFVRSxJQUFBLGVBQWUsRUFBQyxNQVZsQjtBQVdFLElBQUEsRUFBRSxFQUFFRixLQUFLLENBQUNjLEVBQU4sR0FBVyxLQVhqQjtBQVlFLElBQUEsS0FBSyxFQUFFO0FBQUVTLE1BQUFBLE9BQU8sRUFBRXZCLEtBQUssQ0FBQ3FCLE1BQU4sR0FBZSxPQUFmLEdBQXlCO0FBQXBDO0FBWlQsS0FjR3JCLEtBQUssQ0FBQ2UsSUFkVCxDQTlCSixDQURGO0FBa0RELENBbEVEOztBQW9FQSxlQUFlbkIsT0FBTyxDQUFDRyxJQUFELENBQXRCIiwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgZG9tLCBGcmFnbWVudCwgbWVtb2l6ZSB9IGZyb20gXCIuLi9tYWN0L2luZGV4LmpzXCI7XHJcbmltcG9ydCBtb21lbnQgZnJvbSAnbW9tZW50J1xyXG5pbXBvcnQgeyBpbml0U3RhdGUgfSBmcm9tIFwiLi9pbmRleFwiO1xyXG4vLyBUb2RvIENvbXBvbmVudFxyXG5jb25zdCBUb2RvID0gKHByb3BzKSA9PiB7XHJcbiAgZnVuY3Rpb24gcmVuZGVyVG9kbygpIHtcclxuICAgIGxldCB0b2RvID0gcHJvcHMudGl0bGUgPT0gbnVsbCA/IFwiSnVuayBkYXRhXCIgOiBwcm9wcy50aXRsZTtcclxuICAgIHJldHVybiB0b2RvO1xyXG4gIH1cclxuXHJcbiAgZnVuY3Rpb24gRGVsZXRlX0NsaWNrKGUpIHtcclxuICAgIGlmIChjb25maXJtKFwiRG8geW91IHdhbnQgdG8gZGVsZXRlIHRoaXMgcmVjb3JkID9cIikpIHtcclxuICAgICAgaW5pdFN0YXRlLmFjdGlvbnMuSGFuZGxlRGVsZXRlKGUpO1xyXG4gICAgfVxyXG4gIH1cclxuXHJcbiAgZnVuY3Rpb24gRG9uZV9DbGljayh0b2RvKSB7XHJcbiAgICBpbml0U3RhdGUuYWN0aW9ucy5IYW5kbGVEb25lKHRvZG8pO1xyXG4gIH1cclxuXHJcbiAgcmV0dXJuIChcclxuICAgIDxsaT5cclxuICAgICAge3Byb3BzLmRvbmUgPT09IHRydWUgPyA8ZGVsPiB7cmVuZGVyVG9kbygpfSA8L2RlbD4gOiByZW5kZXJUb2RvKCl9XHJcbiAgICAgPGJyIC8+XHJcbiAgICAgIHttb21lbnQocHJvcHMuZGF0ZSkuZm9ybWF0KFwiTU1NIERvIFlZXCIpfVxyXG4gICAgICA8YnV0dG9uXHJcbiAgICAgICAgb25DbGljaz17KGUpID0+IHtcclxuICAgICAgICAgIERlbGV0ZV9DbGljayhwcm9wcy5pZCk7XHJcbiAgICAgICAgfX1cclxuICAgICAgPlxyXG4gICAgICAgIFhcclxuICAgICAgPC9idXR0b24+XHJcbiAgICAgIDxidXR0b25cclxuICAgICAgICBvbkNsaWNrPXsoZSkgPT4ge1xyXG4gICAgICAgICAgRG9uZV9DbGljayhwcm9wcyk7XHJcbiAgICAgICAgfX1cclxuICAgICAgPlxyXG4gICAgICAgIHtwcm9wcy5kb25lID09IHRydWUgPyBcInVuZG9uZVwiIDogXCJkb25lXCJ9XHJcbiAgICAgIDwvYnV0dG9uPlxyXG4gICAgICB7cHJvcHMuZGVzYyAhPSBudWxsICYmIChcclxuICAgICAgICA8YnV0dG9uXHJcbiAgICAgICAgICBvbkNsaWNrPXsoZSkgPT4ge1xyXG4gICAgICAgICAgICAkKFwiI1wiICsgcHJvcHMuaWQgKyBcImRpdlwiKS5zbGlkZVRvZ2dsZSgpO1xyXG4gICAgICAgICAgICBpbml0U3RhdGUuYWN0aW9ucy5IYW5kbGVPcGVuQ2xvc2UocHJvcHMpO1xyXG4gICAgICAgICAgfX1cclxuICAgICAgICA+XHJcbiAgICAgICAgICAuLi5cclxuICAgICAgICA8L2J1dHRvbj5cclxuICAgICAgKX1cclxuICAgICAgPGJyIC8+XHJcbiAgICAgIHtwcm9wcy5kZXNjICE9IG51bGwgJiYgKFxyXG4gICAgICAgIDxkaXZcclxuICAgICAgICAgIG9uQmx1cj17KGUpID0+IHtcclxuICAgICAgICAgICAgdmFyIHRvZG8gPSB7XHJcbiAgICAgICAgICAgICAgaWQ6IHByb3BzLmlkLFxyXG4gICAgICAgICAgICAgIGRlc2M6IGUudGFyZ2V0LmlubmVySFRNTCxcclxuICAgICAgICAgICAgICBpc09wZW46IHRydWUsXHJcbiAgICAgICAgICAgIH07XHJcblxyXG4gICAgICAgICAgICBpbml0U3RhdGUuYWN0aW9ucy5IYW5kbGVDaGFuZ2UodG9kbyk7XHJcbiAgICAgICAgICB9fVxyXG4gICAgICAgICAgY29udGVudEVkaXRhYmxlPVwidHJ1ZVwiXHJcbiAgICAgICAgICBpZD17cHJvcHMuaWQgKyBcImRpdlwifVxyXG4gICAgICAgICAgc3R5bGU9e3sgZGlzcGxheTogcHJvcHMuaXNPcGVuID8gXCJibG9ja1wiIDogXCJub25lXCIgfX1cclxuICAgICAgICA+XHJcbiAgICAgICAgICB7cHJvcHMuZGVzY31cclxuICAgICAgICA8L2Rpdj5cclxuICAgICAgKX1cclxuICAgIDwvbGk+XHJcbiAgKTtcclxufTtcclxuXHJcbmV4cG9ydCBkZWZhdWx0IG1lbW9pemUoVG9kbyk7XHJcbiJdfQ==
//# sourceMappingURL=todo.js.map
