import { dom, Fragment } from "../mact/index.js";
import { initState } from "./index"; // Todo Component

const Todo = props => {
  function renderTodo() {
    let todo = props.title == null ? "Junk data" : props.title;
    return todo;
  }

  function Delete_Click(e) {
    if (confirm("Do you want to delete this record ?")) {
      initState.actions.HandleDelete(e);
    }
  }

  function Done_Click(todo) {
    initState.actions.HandleDone(todo);
  }

  return dom("li", null, props.done === true ? dom("del", null, " ", renderTodo(), " ") : renderTodo(), dom("button", {
    onClick: e => {
      Delete_Click(props.id);
    }
  }, "X"), dom("button", {
    onClick: e => {
      Done_Click(props);
    }
  }, props.done == true ? "undone" : "done"), props.desc && dom("button", {
    onClick: e => {
      $("#" + props.id + "div").slideToggle();
      initState.actions.HandleOpenClose(props);
    }
  }, "..."), dom("br", null), props.desc && dom("div", {
    onBlur: e => {
      var todo = {
        id: props.id,
        desc: e.target.innerHTML,
        isOpen: true
      };
      initState.actions.HandleChange(todo);
    },
    contentEditable: "true",
    id: props.id + "div",
    style: {
      display: props.isOpen ? "block" : "none"
    }
  }, props.desc));
};

export default Todo;
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi4uLy4uLy4uL2pzeC90b2RvX2NvbXBvbmV0cy90b2RvLmpzIl0sIm5hbWVzIjpbImRvbSIsIkZyYWdtZW50IiwiaW5pdFN0YXRlIiwiVG9kbyIsInByb3BzIiwicmVuZGVyVG9kbyIsInRvZG8iLCJ0aXRsZSIsIkRlbGV0ZV9DbGljayIsImUiLCJjb25maXJtIiwiYWN0aW9ucyIsIkhhbmRsZURlbGV0ZSIsIkRvbmVfQ2xpY2siLCJIYW5kbGVEb25lIiwiZG9uZSIsImlkIiwiZGVzYyIsIiQiLCJzbGlkZVRvZ2dsZSIsIkhhbmRsZU9wZW5DbG9zZSIsInRhcmdldCIsImlubmVySFRNTCIsImlzT3BlbiIsIkhhbmRsZUNoYW5nZSIsImRpc3BsYXkiXSwibWFwcGluZ3MiOiJBQUFBLFNBQVNBLEdBQVQsRUFBY0MsUUFBZCxRQUE4QixrQkFBOUI7QUFFQSxTQUFTQyxTQUFULFFBQTBCLFNBQTFCLEMsQ0FDQTs7QUFDQSxNQUFNQyxJQUFJLEdBQUlDLEtBQUQsSUFBVztBQUN0QixXQUFTQyxVQUFULEdBQXNCO0FBQ3BCLFFBQUlDLElBQUksR0FBR0YsS0FBSyxDQUFDRyxLQUFOLElBQWUsSUFBZixHQUFzQixXQUF0QixHQUFvQ0gsS0FBSyxDQUFDRyxLQUFyRDtBQUNBLFdBQU9ELElBQVA7QUFDRDs7QUFFRCxXQUFTRSxZQUFULENBQXNCQyxDQUF0QixFQUF5QjtBQUN2QixRQUFJQyxPQUFPLENBQUMscUNBQUQsQ0FBWCxFQUFvRDtBQUNsRFIsTUFBQUEsU0FBUyxDQUFDUyxPQUFWLENBQWtCQyxZQUFsQixDQUErQkgsQ0FBL0I7QUFDRDtBQUNGOztBQUVELFdBQVNJLFVBQVQsQ0FBb0JQLElBQXBCLEVBQTBCO0FBQ3hCSixJQUFBQSxTQUFTLENBQUNTLE9BQVYsQ0FBa0JHLFVBQWxCLENBQTZCUixJQUE3QjtBQUNEOztBQUVELFNBQ0UsZ0JBQ0dGLEtBQUssQ0FBQ1csSUFBTixLQUFlLElBQWYsR0FBc0Isc0JBQU9WLFVBQVUsRUFBakIsTUFBdEIsR0FBb0RBLFVBQVUsRUFEakUsRUFFRTtBQUNFLElBQUEsT0FBTyxFQUFHSSxDQUFELElBQU87QUFDZEQsTUFBQUEsWUFBWSxDQUFDSixLQUFLLENBQUNZLEVBQVAsQ0FBWjtBQUNEO0FBSEgsU0FGRixFQVNFO0FBQ0UsSUFBQSxPQUFPLEVBQUdQLENBQUQsSUFBTztBQUNkSSxNQUFBQSxVQUFVLENBQUNULEtBQUQsQ0FBVjtBQUNEO0FBSEgsS0FLR0EsS0FBSyxDQUFDVyxJQUFOLElBQWMsSUFBZCxHQUFxQixRQUFyQixHQUFnQyxNQUxuQyxDQVRGLEVBZ0JHWCxLQUFLLENBQUNhLElBQU4sSUFDQztBQUNFLElBQUEsT0FBTyxFQUFHUixDQUFELElBQU87QUFDZFMsTUFBQUEsQ0FBQyxDQUFDLE1BQU1kLEtBQUssQ0FBQ1ksRUFBWixHQUFpQixLQUFsQixDQUFELENBQTBCRyxXQUExQjtBQUNBakIsTUFBQUEsU0FBUyxDQUFDUyxPQUFWLENBQWtCUyxlQUFsQixDQUFrQ2hCLEtBQWxDO0FBQ0Q7QUFKSCxXQWpCSixFQTBCRSxlQTFCRixFQTJCR0EsS0FBSyxDQUFDYSxJQUFOLElBQ0M7QUFBSyxJQUFBLE1BQU0sRUFBR1IsQ0FBRCxJQUFPO0FBQ2xCLFVBQUlILElBQUksR0FBRztBQUNUVSxRQUFBQSxFQUFFLEVBQUdaLEtBQUssQ0FBQ1ksRUFERjtBQUVUQyxRQUFBQSxJQUFJLEVBQUdSLENBQUMsQ0FBQ1ksTUFBRixDQUFTQyxTQUZQO0FBR1RDLFFBQUFBLE1BQU0sRUFBRztBQUhBLE9BQVg7QUFNQXJCLE1BQUFBLFNBQVMsQ0FBQ1MsT0FBVixDQUFrQmEsWUFBbEIsQ0FDRWxCLElBREY7QUFHRCxLQVZEO0FBVUcsSUFBQSxlQUFlLEVBQUMsTUFWbkI7QUFVMEIsSUFBQSxFQUFFLEVBQUVGLEtBQUssQ0FBQ1ksRUFBTixHQUFXLEtBVnpDO0FBVWdELElBQUEsS0FBSyxFQUFFO0FBQUVTLE1BQUFBLE9BQU8sRUFBRXJCLEtBQUssQ0FBQ21CLE1BQU4sR0FBZSxPQUFmLEdBQXlCO0FBQXBDO0FBVnZELEtBV0duQixLQUFLLENBQUNhLElBWFQsQ0E1QkosQ0FERjtBQTZDRCxDQTdERDs7QUErREEsZUFBZWQsSUFBZiIsInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IGRvbSwgRnJhZ21lbnQgfSBmcm9tIFwiLi4vbWFjdC9pbmRleC5qc1wiO1xyXG5cclxuaW1wb3J0IHsgaW5pdFN0YXRlIH0gZnJvbSBcIi4vaW5kZXhcIjtcclxuLy8gVG9kbyBDb21wb25lbnRcclxuY29uc3QgVG9kbyA9IChwcm9wcykgPT4ge1xyXG4gIGZ1bmN0aW9uIHJlbmRlclRvZG8oKSB7XHJcbiAgICBsZXQgdG9kbyA9IHByb3BzLnRpdGxlID09IG51bGwgPyBcIkp1bmsgZGF0YVwiIDogcHJvcHMudGl0bGU7XHJcbiAgICByZXR1cm4gdG9kbztcclxuICB9XHJcblxyXG4gIGZ1bmN0aW9uIERlbGV0ZV9DbGljayhlKSB7XHJcbiAgICBpZiAoY29uZmlybShcIkRvIHlvdSB3YW50IHRvIGRlbGV0ZSB0aGlzIHJlY29yZCA/XCIpKSB7XHJcbiAgICAgIGluaXRTdGF0ZS5hY3Rpb25zLkhhbmRsZURlbGV0ZShlKTtcclxuICAgIH1cclxuICB9XHJcblxyXG4gIGZ1bmN0aW9uIERvbmVfQ2xpY2sodG9kbykge1xyXG4gICAgaW5pdFN0YXRlLmFjdGlvbnMuSGFuZGxlRG9uZSh0b2RvKTtcclxuICB9XHJcblxyXG4gIHJldHVybiAoXHJcbiAgICA8bGk+XHJcbiAgICAgIHtwcm9wcy5kb25lID09PSB0cnVlID8gPGRlbD4ge3JlbmRlclRvZG8oKX0gPC9kZWw+IDogcmVuZGVyVG9kbygpfVxyXG4gICAgICA8YnV0dG9uXHJcbiAgICAgICAgb25DbGljaz17KGUpID0+IHtcclxuICAgICAgICAgIERlbGV0ZV9DbGljayhwcm9wcy5pZCk7XHJcbiAgICAgICAgfX1cclxuICAgICAgPlxyXG4gICAgICAgIFhcclxuICAgICAgPC9idXR0b24+XHJcbiAgICAgIDxidXR0b25cclxuICAgICAgICBvbkNsaWNrPXsoZSkgPT4ge1xyXG4gICAgICAgICAgRG9uZV9DbGljayhwcm9wcyk7XHJcbiAgICAgICAgfX1cclxuICAgICAgPlxyXG4gICAgICAgIHtwcm9wcy5kb25lID09IHRydWUgPyBcInVuZG9uZVwiIDogXCJkb25lXCJ9XHJcbiAgICAgIDwvYnV0dG9uPlxyXG4gICAgICB7cHJvcHMuZGVzYyAmJiAoXHJcbiAgICAgICAgPGJ1dHRvblxyXG4gICAgICAgICAgb25DbGljaz17KGUpID0+IHtcclxuICAgICAgICAgICAgJChcIiNcIiArIHByb3BzLmlkICsgXCJkaXZcIikuc2xpZGVUb2dnbGUoKTtcclxuICAgICAgICAgICAgaW5pdFN0YXRlLmFjdGlvbnMuSGFuZGxlT3BlbkNsb3NlKHByb3BzKTtcclxuICAgICAgICAgIH19XHJcbiAgICAgICAgPlxyXG4gICAgICAgICAgLi4uXHJcbiAgICAgICAgPC9idXR0b24+XHJcbiAgICAgICl9XHJcbiAgICAgIDxiciAvPlxyXG4gICAgICB7cHJvcHMuZGVzYyAmJiAoXHJcbiAgICAgICAgPGRpdiBvbkJsdXI9eyhlKSA9PiB7XHJcbiAgICAgICAgICB2YXIgdG9kbyA9IHtcclxuICAgICAgICAgICAgaWQgOiBwcm9wcy5pZCxcclxuICAgICAgICAgICAgZGVzYyA6IGUudGFyZ2V0LmlubmVySFRNTCxcclxuICAgICAgICAgICAgaXNPcGVuIDogdHJ1ZVxyXG4gICAgICAgICAgfVxyXG4gICAgICAgICAgXHJcbiAgICAgICAgICBpbml0U3RhdGUuYWN0aW9ucy5IYW5kbGVDaGFuZ2UoXHJcbiAgICAgICAgICAgIHRvZG8pO1xyXG5cclxuICAgICAgICB9fSBjb250ZW50RWRpdGFibGU9XCJ0cnVlXCIgaWQ9e3Byb3BzLmlkICsgXCJkaXZcIn0gc3R5bGU9e3sgZGlzcGxheTogcHJvcHMuaXNPcGVuID8gXCJibG9ja1wiIDogXCJub25lXCIgfX0+XHJcbiAgICAgICAgICB7cHJvcHMuZGVzY31cclxuICAgICAgICA8L2Rpdj5cclxuICAgICAgKX1cclxuICAgIDwvbGk+XHJcbiAgKTtcclxufTtcclxuXHJcbmV4cG9ydCBkZWZhdWx0IFRvZG87XHJcbiJdfQ==
//# sourceMappingURL=todo.js.map
