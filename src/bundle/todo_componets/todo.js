import { dom, Fragment, memoize } from "../mact/index.js";
import moment from "moment";
import { initState, TaskFlyOut } from "./index";
import { HOC, UserComponent } from "./Hoc.js"; // Todo Component

const Todo = props => {
  function renderTodo() {
    let todo = props.title == null ? "Junk data" : props.title;
    const decoration = props.done ? "line-through" : "none";
    return dom('Fragment', null, dom("div", {
      class: "titleDiv",
      style: {
        "text-decoration": decoration
      },
      onBlur: e => {
        const todo = {
          id: props.id,
          title: e.target.innerHTML
        };
        initState.actions.HandleChange(todo);
      },
      contentEditable: "true",
      id: props.id + "_title"
    }, todo), dom("div", {
      class: "controlsContainer"
    }, dom(HOC, {
      id: props.id,
      component: UserComponent
    }, dom("button", {
      style: {
        float: 'left'
      },
      class: "btn"
    }, "+")), dom("select", {
      value: props.status,
      style: {
        marginTop: "5px"
      },
      onChange: e => {
        const todo = {
          id: props.id,
          status: e.target.value,
          done: e.target.value === "Done"
        };
        Done_Click(todo);
      }
    }, dom("option", {
      value: props.status
    }, props.status), initState.statuses.filter(x => x != props.status).map(x => dom("option", {
      value: x
    }, x))), dom("button", {
      onClick: e => {
        Delete_Click(props);
      }
    }, "X"), dom("button", {
      style: {
        float: 'left'
      },
      onClick: e => {
        // $("#" + props.id + "div").slideToggle();
        // initState.actions.HandleOpenClose(props);
        Handle_Popup("todoItem" + props.id);
      }
    }, "..."), dom("button", {
      dangerouslySetInnerHTML: {
        __html: `${props.isOpen ? "&#8593;" : "&#8595;"}`
      },
      style: {
        float: "left",
        fontWeight: "bold"
      },
      onClick: e => {
        $("#" + "todo_" + props.id).toggle();
        initState.actions.HandleOpenClose(props);
      }
    }), dom("span", {
      class: "dateContainer"
    }, moment(props.date).format("Do MMM YYYY")), dom("input", {
      type: "color",
      value: props.color,
      onChange: e => {
        const todo = {
          id: props.id,
          color: e.target.value
        };
        initState.actions.HandleChange(todo);
      }
    }), dom("span", {
      class: "datepicker-toggle"
    }, dom("span", {
      class: "datepicker-toggle-button"
    }), dom("input", {
      type: "date",
      class: "datepicker-input",
      value: new Date(props.date),
      onChange: e => {
        const todo = {
          id: props.id,
          date: e.target.value
        };
        initState.actions.HandleChange(todo);
      }
    }))));
  }

  function Delete_Click(e) {
    if (confirm("Do you want to delete this record ?")) {
      initState.actions.HandleDelete(e.id);
    }
  }

  function Handle_Popup(id) {
    const _id = `#${id}`;
    console.log(_id);
    $(_id).colorbox({
      width: "600px",
      inline: false,
      html: dom(TaskFlyOut, props),
      onClosed: function () {
        $.colorbox.remove();
        $(_id).css("width", "");
      }
    });
  }

  function Done_Click(todo) {
    initState.actions.HandleStatus(todo);
  }

  let shadow = "5px 1px " + (props.color || "black"); //style={{ 'box-shadow': shadow }}

  return dom("div", {
    class: "todoItem",
    style: {
      boxShadow: shadow
    },
    id: "todoItem" + props.id,
    onMouseOver: e => {//e.target.style.boxShadow = shadow
    },
    onMouseOut: e => {//e.target.style.boxShadow = '';
    }
  }, props.done === true ? dom("del", null, " ", renderTodo(), " ") : renderTodo(), dom("div", {
    id: "todo_" + props.id,
    style: {
      display: props.isOpen ? "block" : "none"
    }
  }, dom("br", null), dom("br", null), dom("div", {
    class: "desc",
    onBlur: e => {
      var todo = {
        id: props.id,
        desc: e.target.innerHTML,
        isOpen: true
      };
      initState.actions.HandleChange(todo);
    },
    contentEditable: "true",
    id: props.id + "div"
  }, props.desc)));
};

export default memoize(Todo);
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi4uLy4uLy4uL2pzeC90b2RvX2NvbXBvbmV0cy90b2RvLmpzIl0sIm5hbWVzIjpbImRvbSIsIkZyYWdtZW50IiwibWVtb2l6ZSIsIm1vbWVudCIsImluaXRTdGF0ZSIsIlRhc2tGbHlPdXQiLCJIT0MiLCJVc2VyQ29tcG9uZW50IiwiVG9kbyIsInByb3BzIiwicmVuZGVyVG9kbyIsInRvZG8iLCJ0aXRsZSIsImRlY29yYXRpb24iLCJkb25lIiwiZSIsImlkIiwidGFyZ2V0IiwiaW5uZXJIVE1MIiwiYWN0aW9ucyIsIkhhbmRsZUNoYW5nZSIsImZsb2F0Iiwic3RhdHVzIiwibWFyZ2luVG9wIiwidmFsdWUiLCJEb25lX0NsaWNrIiwic3RhdHVzZXMiLCJmaWx0ZXIiLCJ4IiwibWFwIiwiRGVsZXRlX0NsaWNrIiwiSGFuZGxlX1BvcHVwIiwiX19odG1sIiwiaXNPcGVuIiwiZm9udFdlaWdodCIsIiQiLCJ0b2dnbGUiLCJIYW5kbGVPcGVuQ2xvc2UiLCJkYXRlIiwiZm9ybWF0IiwiY29sb3IiLCJEYXRlIiwiY29uZmlybSIsIkhhbmRsZURlbGV0ZSIsIl9pZCIsImNvbnNvbGUiLCJsb2ciLCJjb2xvcmJveCIsIndpZHRoIiwiaW5saW5lIiwiaHRtbCIsIm9uQ2xvc2VkIiwicmVtb3ZlIiwiY3NzIiwiSGFuZGxlU3RhdHVzIiwic2hhZG93IiwiYm94U2hhZG93IiwiZGlzcGxheSIsImRlc2MiXSwibWFwcGluZ3MiOiJBQUFBLFNBQVNBLEdBQVQsRUFBY0MsUUFBZCxFQUF3QkMsT0FBeEIsUUFBdUMsa0JBQXZDO0FBQ0EsT0FBT0MsTUFBUCxNQUFtQixRQUFuQjtBQUNBLFNBQVNDLFNBQVQsRUFBb0JDLFVBQXBCLFFBQXNDLFNBQXRDO0FBQ0EsU0FBU0MsR0FBVCxFQUFjQyxhQUFkLFFBQW1DLFVBQW5DLEMsQ0FFQTs7QUFDQSxNQUFNQyxJQUFJLEdBQUlDLEtBQUQsSUFBVztBQUN0QixXQUFTQyxVQUFULEdBQXNCO0FBQ3BCLFFBQUlDLElBQUksR0FBR0YsS0FB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RUFBRSxhQUFhOUMsS0FBSyxDQUFDTyxFQUh6QjtBQUlFLElBQUEsV0FBVyxFQUFHRCxDQUFELElBQU8sQ0FDbEI7QUFDRCxLQU5IO0FBT0UsSUFBQSxVQUFVLEVBQUdBLENBQUQsSUFBTyxDQUNqQjtBQUNEO0FBVEgsS0FXR04sS0FBSyxDQUFDSyxJQUFOLEtBQWUsSUFBZixHQUFzQixzQkFBT0osVUFBVSxFQUFqQixNQUF0QixHQUFvREEsVUFBVSxFQVhqRSxFQWFFO0FBQ0UsSUFBQSxFQUFFLEVBQUUsVUFBVUQsS0FBSyxDQUFDTyxFQUR0QjtBQUVFLElBQUEsS0FBSyxFQUFFO0FBQUV5QyxNQUFBQSxPQUFPLEVBQUVoRCxLQUFLLENBQUN3QixNQUFOLEdBQWUsT0FBZixHQUF5QjtBQUFwQztBQUZULEtBSUUsZUFKRixFQUtFLGVBTEYsRUFPRTtBQUNFLElBQUEsS0FBSyxFQUFDLE1BRFI7QUFFRSxJQUFBLE1BQU0sRUFBR2xCLENBQUQsSUFBTztBQUNiLFVBQUlKLElBQUksR0FBRztBQUNUSyxRQUFBQSxFQUFFLEVBQUVQLEtBQUssQ0FBQ08sRUFERDtBQUVUMEMsUUFBQUEsSUFBSSxFQUFFM0MsQ0FBQyxDQUFDRSxNQUFGLENBQVNDLFNBRk47QUFHVGUsUUFBQUEsTUFBTSxFQUFFO0FBSEMsT0FBWDtBQU1BN0IsTUFBQUEsU0FBUyxDQUFDZSxPQUFWLENBQWtCQyxZQUFsQixDQUErQlQsSUFBL0I7QUFDRCxLQVZIO0FBV0UsSUFBQSxlQUFlLEVBQUMsTUFYbEI7QUFZRSxJQUFBLEVBQUUsRUFBRUYsS0FBSyxDQUFDTyxFQUFOLEdBQVc7QUFaakIsS0FjR1AsS0FBSyxDQUFDaUQsSUFkVCxDQVBGLENBYkYsQ0FERjtBQXdDRCxDQWxMRDs7QUFvTEEsZUFBZXhELE9BQU8sQ0FBQ00sSUFBRCxDQUF0QiIsInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IGRvbSwgRnJhZ21lbnQsIG1lbW9pemUgfSBmcm9tIFwiLi4vbWFjdC9pbmRleC5qc1wiO1xyXG5pbXBvcnQgbW9tZW50IGZyb20gXCJtb21lbnRcIjtcclxuaW1wb3J0IHsgaW5pdFN0YXRlLCBUYXNrRmx5T3V0IH0gZnJvbSBcIi4vaW5kZXhcIjtcclxuaW1wb3J0IHsgSE9DLCBVc2VyQ29tcG9uZW50IH0gZnJvbSBcIi4vSG9jLmpzXCI7XHJcblxyXG4vLyBUb2RvIENvbXBvbmVudFxyXG5jb25zdCBUb2RvID0gKHByb3BzKSA9PiB7XHJcbiAgZnVuY3Rpb24gcmVuZGVyVG9kbygpIHtcclxuICAgIGxldCB0b2RvID0gcHJvcHMudGl0bGUgPT0gbnVsbCA/IFwiSnVuayBkYXRhXCIgOiBwcm9wcy50aXRsZTtcclxuICAgIGNvbnN0IGRlY29yYXRpb24gPSBwcm9wcy5kb25lID8gXCJsaW5lLXRocm91Z2hcIiA6IFwibm9uZVwiO1xyXG4gICAgcmV0dXJuIChcclxuICAgICAgPD5cclxuICAgICAgICA8ZGl2XHJcbiAgICAgICAgICBjbGFzcz1cInRpdGxlRGl2XCJcclxuICAgICAgICAgIHN0eWxlPXt7IFwidGV4dC1kZWNvcmF0aW9uXCI6IGRlY29yYXRpb24gfX1cclxuICAgICAgICAgIG9uQmx1cj17KGUpID0+IHtcclxuICAgICAgICAgICAgY29uc3QgdG9kbyA9IHtcclxuICAgICAgICAgICAgICBpZDogcHJvcHMuaWQsXHJcbiAgICAgICAgICAgICAgdGl0bGU6IGUudGFyZ2V0LmlubmVySFRNTCxcclxuICAgICAgICAgICAgfTtcclxuICAgICAgICAgICAgaW5pdFN0YXRlLmFjdGlvbnMuSGFuZGxlQ2hhbmdlKHRvZG8pO1xyXG4gICAgICAgICAgfX1cclxuICAgICAgICAgIGNvbnRlbnRFZGl0YWJsZT1cInRydWVcIlxyXG4gICAgICAgICAgaWQ9e3Byb3BzLmlkICsgXCJfdGl0bGVcIn1cclxuICAgICAgICA+XHJcbiAgICAgICAgICB7dG9kb31cclxuICAgICAgICA8L2Rpdj5cclxuXHJcbiAgICAgICAgPGRpdiBjbGFzcz1cImNvbnRyb2xzQ29udGFpbmVyXCI+XHJcblxyXG4gICAgICAgICAgPEhPQyBpZD17cHJvcHMuaWR9IGNvbXBvbmVudD17VXNlckNvbXBvbmVudH0+XHJcbiAgICAgICAgICAgIDxidXR0b24gc3R5bGU9e3sgZmxvYXQ6ICdsZWZ0JyB9fSBjbGFzcz1cImJ0blwiPis8L2J1dHRvbj5cclxuICAgICAgICAgIDwvSE9DPlxyXG4gICAgICAgICAgPHNlbGVjdFxyXG4gICAgICAgICAgICB2YWx1ZT17cHJvcHMuc3RhdHVzfVxyXG4gICAgICAgICAgICBzdHlsZT17eyBtYXJnaW5Ub3A6IFwiNXB4XCIgfX1cclxuICAgICAgICAgICAgb25DaGFuZ2U9eyhlKSA9PiB7XHJcbiAgICAgICAgICAgICAgY29uc3QgdG9kbyA9IHtcclxuICAgICAgICAgICAgICAgIGlkOiBwcm9wcy5pZCxcclxuICAgICAgICAgICAgICAgIHN0YXR1czogZS50YXJnZXQudmFsdWUsXHJcbiAgICAgICAgICAgICAgICBkb25lOiBlLnRhcmdldC52YWx1ZSA9PT0gXCJEb25lXCIsXHJcbiAgICAgICAgICAgICAgfTtcclxuICAgICAgICAgICAgICBEb25lX0NsaWNrKHRvZG8pO1xyXG4gICAgICAgICAgICB9fVxyXG4gICAgICAgICAgPlxyXG4gICAgICAgICAgICA8b3B0aW9uIHZhbHVlPXtwcm9wcy5zdGF0dXN9Pntwcm9wcy5zdGF0dXN9PC9vcHRpb24+XHJcbiAgICAgICAgICAgIHtpbml0U3RhdGUuc3RhdHVzZXNcclxuICAgICAgICAgICAgICAuZmlsdGVyKCh4KSA9PiB4ICE9IHByb3BzLnN0YXR1cylcclxuICAgICAgICAgICAgICAubWFwKCh4KSA9PiAoXHJcbiAgICAgICAgICAgICAgICA8b3B0aW9uIHZhbHVlPXt4fT57eH08L29wdGlvbj5cclxuICAgICAgICAgICAgICApKX1cclxuICAgICAgICAgIDwvc2VsZWN0PlxyXG5cclxuICAgICAgICAgIDxidXR0b25cclxuICAgICAgICAgICAgb25DbGljaz17KGUpID0+IHtcclxuICAgICAgICAgICAgICBEZWxldGVfQ2xpY2socHJvcHMpO1xyXG4gICAgICAgICAgICB9fVxyXG4gICAgICAgICAgPlxyXG4gICAgICAgICAgICBYXHJcbiAgICAgICAgICA8L2J1dHRvbj5cclxuICAgICAgICAgIDxidXR0b25cclxuICAgICAgICAgICAgc3R5bGU9e3sgZmxvYXQ6ICdsZWZ0JyB9fVxyXG4gICAgICAgICAgICBvbkNsaWNrPXsoZSkgPT4ge1xyXG4gICAgICAgICAgICAgIC8vICQoXCIjXCIgKyBwcm9wcy5pZCArIFwiZGl2XCIpLnNsaWRlVG9nZ2xlKCk7XHJcbiAgICAgICAgICAgICAgLy8gaW5pdFN0YXRlLmFjdGlvbnMuSGFuZGxlT3BlbkNsb3NlKHByb3BzKTtcclxuICAgICAgICAgICAgICBIYW5kbGVfUG9wdXAoXCJ0b2RvSXRlbVwiICsgcHJvcHMuaWQpO1xyXG4gICAgICAgICAgICB9fVxyXG4gICAgICAgICAgPlxyXG4gICAgICAgICAgICAuLi5cclxuICAgICAgICAgIDwvYnV0dG9uPlxyXG4gICAgICAgICAgPGJ1dHRvblxyXG4gICAgICAgICAgICBkYW5nZXJvdXNseVNldElubmVySFRNTD17e1xyXG4gICAgICAgICAgICAgIF9faHRtbDogYCR7cHJvcHMuaXNPcGVuID8gXCImIzg1OTM7XCIgOiBcIiYjODU5NTtcIn1gLFxyXG4gICAgICAgICAgICB9fVxyXG4gICAgICAgICAgICBzdHlsZT17eyBmbG9hdDogXCJsZWZ0XCIsIGZvbnRXZWlnaHQ6IFwiYm9sZFwiIH19XHJcbiAgICAgICAgICAgIG9uQ2xpY2s9eyhlKSA9PiB7XHJcbiAgICAgICAgICAgICAgJChcIiNcIiArIFwidG9kb19cIiArIHByb3BzLmlkKS50b2dnbGUoKTtcclxuICAgICAgICAgICAgICBpbml0U3RhdGUuYWN0aW9ucy5IYW5kbGVPcGVuQ2xvc2UocHJvcHMpO1xyXG4gICAgICAgICAgICB9fVxyXG4gICAgICAgICAgPjwvYnV0dG9uPlxyXG4gICAgICAgICAgPHNwYW4gY2xhc3M9XCJkYXRlQ29udGFpbmVyXCI+XHJcbiAgICAgICAgICAgIHttb21lbnQocHJvcHMuZGF0ZSkuZm9ybWF0KFwiRG8gTU1NIFlZWVlcIil9XHJcbiAgICAgICAgICA8L3NwYW4+XHJcblxyXG4gICAgICAgICAgPGlucHV0XHJcbiAgICAgICAgICAgIHR5cGU9XCJjb2xvclwiXHJcbiAgICAgICAgICAgIHZhbHVlPXtwcm9wcy5jb2xvcn1cclxuICAgICAgICAgICAgb25DaGFuZ2U9eyhlKSA9PiB7XHJcbiAgICAgICAgICAgICAgY29uc3QgdG9kbyA9IHtcclxuICAgICAgICAgICAgICAgIGlkOiBwcm9wcy5pZCxcclxuICAgICAgICAgICAgICAgIGNvbG9yOiBlLnRhcmdldC52YWx1ZSxcclxuICAgICAgICAgICAgICB9O1xyXG4gICAgICAgICAgICAgIGluaXRTdGF0ZS5hY3Rpb25zLkhhbmRsZUNoYW5nZSh0b2RvKTtcclxuICAgICAgICAgICAgfX1cclxuICAgICAgICAgIC8+XHJcblxyXG4gICAgICAgICAgPHNwYW4gY2xhc3M9XCJkYXRlcGlja2VyLXRvZ2dsZVwiPlxyXG4gICAgICAgICAgICA8c3BhbiBjbGFzcz1cImRhdGVwaWNrZXItdG9nZ2xlLWJ1dHRvblwiPjwvc3Bhbj5cclxuICAgICAgICAgICAgPGlucHV0XHJcbiAgICAgICAgICAgICAgdHlwZT1cImRhdGVcIlxyXG4gICAgICAgICAgICAgIGNsYXNzPVwiZGF0ZXBpY2tlci1pbnB1dFwiXHJcbiAgICAgICAgICAgICAgdmFsdWU9e25ldyBEYXRlKHByb3BzLmRhdGUpfVxyXG4gICAgICAgICAgICAgIG9uQ2hhbmdlPXsoZSkgPT4ge1xyXG4gICAgICAgICAgICAgICAgY29uc3QgdG9kbyA9IHtcclxuICAgICAgICAgICAgICAgICAgaWQ6IHByb3BzLmlkLFxyXG4gICAgICAgICAgICAgICAgICBkYXRlOiBlLnRhcmdldC52YWx1ZSxcclxuICAgICAgICAgICAgICAgIH07XHJcbiAgICAgICAgICAgICAgICBpbml0U3RhdGUuYWN0aW9ucy5IYW5kbGVDaGFuZ2UodG9kbyk7XHJcbiAgICAgICAgICAgICAgfX1cclxuICAgICAgICAgICAgLz5cclxuICAgICAgICAgIDwvc3Bhbj5cclxuXHJcblxyXG4gICAgICAgIDwvZGl2PlxyXG4gICAgICA8Lz5cclxuICAgICk7XHJcbiAgfVxyXG5cclxuICBmdW5jdGlvbiBEZWxldGVfQ2xpY2soZSkge1xyXG4gICAgaWYgKGNvbmZpcm0oXCJEbyB5b3Ugd2FudCB0byBkZWxldGUgdGhpcyByZWNvcmQgP1wiKSkge1xyXG4gICAgICBpbml0U3RhdGUuYWN0aW9ucy5IYW5kbGVEZWxldGUoZS5pZCk7XHJcbiAgICB9XHJcbiAgfVxyXG5cclxuICBmdW5jdGlvbiBIYW5kbGVfUG9wdXAoaWQpIHtcclxuICAgIGNvbnN0IF9pZCA9IGAjJHtpZH1gO1xyXG4gICAgY29uc29sZS5sb2coX2lkKTtcclxuICAgICQoX2lkKS5jb2xvcmJveCh7XHJcbiAgICAgIHdpZHRoOiBcIjYwMHB4XCIsXHJcbiAgICAgIGlubGluZTogZmFsc2UsXHJcbiAgICAgIGh0bWw6IDxUYXNrRmx5T3V0IHsuLi5wcm9wc30gLz4sXHJcbiAgICAgIG9uQ2xvc2VkOiBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgJC5jb2xvcmJveC5yZW1vdmUoKTtcclxuICAgICAgICAkKF9pZCkuY3NzKFwid2lkdGhcIiwgXCJcIik7XHJcbiAgICAgIH0sXHJcbiAgICB9KTtcclxuICB9XHJcblxyXG4gIGZ1bmN0aW9uIERvbmVfQ2xpY2sodG9kbykge1xyXG4gICAgaW5pdFN0YXRlLmFjdGlvbnMuSGFuZGxlU3RhdHVzKHRvZG8pO1xyXG4gIH1cclxuXHJcbiAgbGV0IHNoYWRvdyA9IFwiNXB4IDFweCBcIiArIChwcm9wcy5jb2xvciB8fCBcImJsYWNrXCIpO1xyXG4gIC8vc3R5bGU9e3sgJ2JveC1zaGFkb3cnOiBzaGFkb3cgfX1cclxuICByZXR1cm4gKFxyXG4gICAgPGRpdlxyXG4gICAgICBjbGFzcz1cInRvZG9JdGVtXCJcclxuICAgICAgc3R5bGU9e3sgYm94U2hhZG93OiBzaGFkb3cgfX1cclxuICAgICAgaWQ9e1widG9kb0l0ZW1cIiArIHByb3BzLmlkfVxyXG4gICAgICBvbk1vdXNlT3Zlcj17KGUpID0+IHtcclxuICAgICAgICAvL2UudGFyZ2V0LnN0eWxlLmJveFNoYWRvdyA9IHNoYWRvd1xyXG4gICAgICB9fVxyXG4gICAgICBvbk1vdXNlT3V0PXsoZSkgPT4ge1xyXG4gICAgICAgIC8vZS50YXJnZXQuc3R5bGUuYm94U2hhZG93ID0gJyc7XHJcbiAgICAgIH19XHJcbiAgICA+XHJcbiAgICAgIHtwcm9wcy5kb25lID09PSB0cnVlID8gPGRlbD4ge3JlbmRlclRvZG8oKX0gPC9kZWw+IDogcmVuZGVyVG9kbygpfVxyXG5cclxuICAgICAgPGRpdlxyXG4gICAgICAgIGlkPXtcInRvZG9fXCIgKyBwcm9wcy5pZH1cclxuICAgICAgICBzdHlsZT17eyBkaXNwbGF5OiBwcm9wcy5pc09wZW4gPyBcImJsb2NrXCIgOiBcIm5vbmVcIiB9fVxyXG4gICAgICA+XHJcbiAgICAgICAgPGJyIC8+XHJcbiAgICAgICAgPGJyIC8+XHJcblxyXG4gICAgICAgIDxkaXZcclxuICAgICAgICAgIGNsYXNzPVwiZGVzY1wiXHJcbiAgICAgICAgICBvbkJsdXI9eyhlKSA9PiB7XHJcbiAgICAgICAgICAgIHZhciB0b2RvID0ge1xyXG4gICAgICAgICAgICAgIGlkOiBwcm9wcy5pZCxcclxuICAgICAgICAgICAgICBkZXNjOiBlLnRhcmdldC5pbm5lckhUTUwsXHJcbiAgICAgICAgICAgICAgaXNPcGVuOiB0cnVlLFxyXG4gICAgICAgICAgICB9O1xyXG5cclxuICAgICAgICAgICAgaW5pdFN0YXRlLmFjdGlvbnMuSGFuZGxlQ2hhbmdlKHRvZG8pO1xyXG4gICAgICAgICAgfX1cclxuICAgICAgICAgIGNvbnRlbnRFZGl0YWJsZT1cInRydWVcIlxyXG4gICAgICAgICAgaWQ9e3Byb3BzLmlkICsgXCJkaXZcIn1cclxuICAgICAgICA+XHJcbiAgICAgICAgICB7cHJvcHMuZGVzY31cclxuICAgICAgICA8L2Rpdj5cclxuICAgICAgPC9kaXY+XHJcbiAgICA8L2Rpdj5cclxuICApO1xyXG59O1xyXG5cclxuZXhwb3J0IGRlZmF1bHQgbWVtb2l6ZShUb2RvKTtcclxuIl19
//# sourceMappingURL=todo.js.map
