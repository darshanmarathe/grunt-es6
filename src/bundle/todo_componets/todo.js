import { dom, Fragment, memoize } from "../mact/index.js";
import { initState } from "./index"; // Todo Component

const Todo = props => {
  function renderTodo() {
    let todo = props.title == null ? "Junk data" : props.title;
    return todo;
  }

  function Delete_Click(e) {
    if (confirm("Do you want to delete this record ?")) {
      initState.actions.HandleDelete(e);
    }
  }

  function Done_Click(todo) {
    initState.actions.HandleDone(todo);
  }

  return dom("li", null, props.done === true ? dom("del", null, " ", renderTodo(), " ") : renderTodo(), dom("button", {
    onClick: e => {
      Delete_Click(props.id);
    }
  }, "X"), dom("button", {
    onClick: e => {
      Done_Click(props);
    }
  }, props.done == true ? "undone" : "done"), props.desc != null && dom("button", {
    onClick: e => {
      $("#" + props.id + "div").slideToggle();
      initState.actions.HandleOpenClose(props);
    }
  }, "..."), dom("br", null), props.desc != null && dom("div", {
    onBlur: e => {
      var todo = {
        id: props.id,
        desc: e.target.innerHTML,
        isOpen: true
      };
      initState.actions.HandleChange(todo);
    },
    contentEditable: "true",
    id: props.id + "div",
    style: {
      display: props.isOpen ? "block" : "none"
    }
  }, props.desc));
};

export default memoize(Todo);
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi4uLy4uLy4uL2pzeC90b2RvX2NvbXBvbmV0cy90b2RvLmpzIl0sIm5hbWVzIjpbImRvbSIsIkZyYWdtZW50IiwibWVtb2l6ZSIsImluaXRTdGF0ZSIsIlRvZG8iLCJwcm9wcyIsInJlbmRlclRvZG8iLCJ0b2RvIiwidGl0bGUiLCJEZWxldGVfQ2xpY2siLCJlIiwiY29uZmlybSIsImFjdGlvbnMiLCJIYW5kbGVEZWxldGUiLCJEb25lX0NsaWNrIiwiSGFuZGxlRG9uZSIsImRvbmUiLCJpZCIsImRlc2MiLCIkIiwic2xpZGVUb2dnbGUiLCJIYW5kbGVPcGVuQ2xvc2UiLCJ0YXJnZXQiLCJpbm5lckhUTUwiLCJpc09wZW4iLCJIYW5kbGVDaGFuZ2UiLCJkaXNwbGF5Il0sIm1hcHBpbmdzIjoiQUFBQSxTQUFTQSxHQUFULEVBQWNDLFFBQWQsRUFBd0JDLE9BQXhCLFFBQXVDLGtCQUF2QztBQUVBLFNBQVNDLFNBQVQsUUFBMEIsU0FBMUIsQyxDQUNBOztBQUNBLE1BQU1DLElBQUksR0FBSUMsS0FBRCxJQUFXO0FBQ3RCLFdBQVNDLFVBQVQsR0FBc0I7QUFDcEIsUUFBSUMsSUFBSSxHQUFHRixLQUFLLENBQUNHLEtBQU4sSUFBZSxJQUFmLEdBQXNCLFdBQXRCLEdBQW9DSCxLQUFLLENBQUNHLEtBQXJEO0FBQ0EsV0FBT0QsSUFBUDtBQUNEOztBQUVELFdBQVNFLFlBQVQsQ0FBc0JDLENBQXRCLEVBQXlCO0FBQ3ZCLFFBQUlDLE9BQU8sQ0FBQyxxQ0FBRCxDQUFYLEVBQW9EO0FBQ2xEUixNQUFBQSxTQUFTLENBQUNTLE9BQVYsQ0FBa0JDLFlBQWxCLENBQStCSCxDQUEvQjtBQUNEO0FBQ0Y7O0FBRUQsV0FBU0ksVUFBVCxDQUFvQlAsSUFBcEIsRUFBMEI7QUFDeEJKLElBQUFBLFNBQVMsQ0FBQ1MsT0FBVixDQUFrQkcsVUFBbEIsQ0FBNkJSLElBQTdCO0FBQ0Q7O0FBRUQsU0FDRSxnQkFDR0YsS0FBSyxDQUFDVyxJQUFOLEtBQWUsSUFBZixHQUFzQixzQkFBT1YsVUFBVSxFQUFqQixNQUF0QixHQUFvREEsVUFBVSxFQURqRSxFQUVFO0FBQ0UsSUFBQSxPQUFPLEVBQUdJLENBQUQsSUFBTztBQUNkRCxNQUFBQSxZQUFZLENBQUNKLEtBQUssQ0FBQ1ksRUFBUCxDQUFaO0FBQ0Q7QUFISCxTQUZGLEVBU0U7QUFDRSxJQUFBLE9BQU8sRUFBR1AsQ0FBRCxJQUFPO0FBQ2RJLE1BQUFBLFVBQVUsQ0FBQ1QsS0FBRCxDQUFWO0FBQ0Q7QUFISCxLQUtHQSxLQUFLLENBQUNXLElBQU4sSUFBYyxJQUFkLEdBQXFCLFFBQXJCLEdBQWdDLE1BTG5DLENBVEYsRUFnQkdYLEtBQUssQ0FBQ2EsSUFBTixJQUFjLElBQWQsSUFDQztBQUNFLElBQUEsT0FBTyxFQUFHUixDQUFELElBQU87QUFDZFMsTUFBQUEsQ0FBQyxDQUFDLE1BQU1kLEtBQUssQ0FBQ1ksRUFBWixHQUFpQixLQUFsQixDQUFELENBQTBCRyxXQUExQjtBQUNBakIsTUFBQUEsU0FBUyxDQUFDUyxPQUFWLENBQWtCUyxlQUFsQixDQUFrQ2hCLEtBQWxDO0FBQ0Q7QUFKSCxXQWpCSixFQTBCRSxlQTFCRixFQTJCR0EsS0FBSyxDQUFDYSxJQUFOLElBQWMsSUFBZCxJQUNDO0FBQ0UsSUFBQSxNQUFNLEVBQUdSLENBQUQsSUFBTztBQUNiLFVBQUlILElBQUksR0FBRztBQUNUVSxRQUFBQSxFQUFFLEVBQUVaLEtBQUssQ0FBQ1ksRUFERDtBQUVUQyxRQUFBQSxJQUFJLEVBQUVSLENBQUMsQ0FBQ1ksTUFBRixDQUFTQyxTQUZOO0FBR1RDLFFBQUFBLE1BQU0sRUFBRTtBQUhDLE9BQVg7QUFNQXJCLE1BQUFBLFNBQVMsQ0FBQ1MsT0FBVixDQUFrQmEsWUFBbEIsQ0FBK0JsQixJQUEvQjtBQUNELEtBVEg7QUFVRSxJQUFBLGVBQWUsRUFBQyxNQVZsQjtBQVdFLElBQUEsRUFBRSxFQUFFRixLQUFLLENBQUNZLEVBQU4sR0FBVyxLQVhqQjtBQVlFLElBQUEsS0FBSyxFQUFFO0FBQUVTLE1BQUFBLE9BQU8sRUFBRXJCLEtBQUssQ0FBQ21CLE1BQU4sR0FBZSxPQUFmLEdBQXlCO0FBQXBDO0FBWlQsS0FjR25CLEtBQUssQ0FBQ2EsSUFkVCxDQTVCSixDQURGO0FBZ0RELENBaEVEOztBQWtFQSxlQUFlaEIsT0FBTyxDQUFDRSxJQUFELENBQXRCIiwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgZG9tLCBGcmFnbWVudCwgbWVtb2l6ZSB9IGZyb20gXCIuLi9tYWN0L2luZGV4LmpzXCI7XHJcblxyXG5pbXBvcnQgeyBpbml0U3RhdGUgfSBmcm9tIFwiLi9pbmRleFwiO1xyXG4vLyBUb2RvIENvbXBvbmVudFxyXG5jb25zdCBUb2RvID0gKHByb3BzKSA9PiB7XHJcbiAgZnVuY3Rpb24gcmVuZGVyVG9kbygpIHtcclxuICAgIGxldCB0b2RvID0gcHJvcHMudGl0bGUgPT0gbnVsbCA/IFwiSnVuayBkYXRhXCIgOiBwcm9wcy50aXRsZTtcclxuICAgIHJldHVybiB0b2RvO1xyXG4gIH1cclxuXHJcbiAgZnVuY3Rpb24gRGVsZXRlX0NsaWNrKGUpIHtcclxuICAgIGlmIChjb25maXJtKFwiRG8geW91IHdhbnQgdG8gZGVsZXRlIHRoaXMgcmVjb3JkID9cIikpIHtcclxuICAgICAgaW5pdFN0YXRlLmFjdGlvbnMuSGFuZGxlRGVsZXRlKGUpO1xyXG4gICAgfVxyXG4gIH1cclxuXHJcbiAgZnVuY3Rpb24gRG9uZV9DbGljayh0b2RvKSB7XHJcbiAgICBpbml0U3RhdGUuYWN0aW9ucy5IYW5kbGVEb25lKHRvZG8pO1xyXG4gIH1cclxuXHJcbiAgcmV0dXJuIChcclxuICAgIDxsaT5cclxuICAgICAge3Byb3BzLmRvbmUgPT09IHRydWUgPyA8ZGVsPiB7cmVuZGVyVG9kbygpfSA8L2RlbD4gOiByZW5kZXJUb2RvKCl9XHJcbiAgICAgIDxidXR0b25cclxuICAgICAgICBvbkNsaWNrPXsoZSkgPT4ge1xyXG4gICAgICAgICAgRGVsZXRlX0NsaWNrKHByb3BzLmlkKTtcclxuICAgICAgICB9fVxyXG4gICAgICA+XHJcbiAgICAgICAgWFxyXG4gICAgICA8L2J1dHRvbj5cclxuICAgICAgPGJ1dHRvblxyXG4gICAgICAgIG9uQ2xpY2s9eyhlKSA9PiB7XHJcbiAgICAgICAgICBEb25lX0NsaWNrKHByb3BzKTtcclxuICAgICAgICB9fVxyXG4gICAgICA+XHJcbiAgICAgICAge3Byb3BzLmRvbmUgPT0gdHJ1ZSA/IFwidW5kb25lXCIgOiBcImRvbmVcIn1cclxuICAgICAgPC9idXR0b24+XHJcbiAgICAgIHtwcm9wcy5kZXNjICE9IG51bGwgJiYgKFxyXG4gICAgICAgIDxidXR0b25cclxuICAgICAgICAgIG9uQ2xpY2s9eyhlKSA9PiB7XHJcbiAgICAgICAgICAgICQoXCIjXCIgKyBwcm9wcy5pZCArIFwiZGl2XCIpLnNsaWRlVG9nZ2xlKCk7XHJcbiAgICAgICAgICAgIGluaXRTdGF0ZS5hY3Rpb25zLkhhbmRsZU9wZW5DbG9zZShwcm9wcyk7XHJcbiAgICAgICAgICB9fVxyXG4gICAgICAgID5cclxuICAgICAgICAgIC4uLlxyXG4gICAgICAgIDwvYnV0dG9uPlxyXG4gICAgICApfVxyXG4gICAgICA8YnIgLz5cclxuICAgICAge3Byb3BzLmRlc2MgIT0gbnVsbCAmJiAoXHJcbiAgICAgICAgPGRpdlxyXG4gICAgICAgICAgb25CbHVyPXsoZSkgPT4ge1xyXG4gICAgICAgICAgICB2YXIgdG9kbyA9IHtcclxuICAgICAgICAgICAgICBpZDogcHJvcHMuaWQsXHJcbiAgICAgICAgICAgICAgZGVzYzogZS50YXJnZXQuaW5uZXJIVE1MLFxyXG4gICAgICAgICAgICAgIGlzT3BlbjogdHJ1ZSxcclxuICAgICAgICAgICAgfTtcclxuXHJcbiAgICAgICAgICAgIGluaXRTdGF0ZS5hY3Rpb25zLkhhbmRsZUNoYW5nZSh0b2RvKTtcclxuICAgICAgICAgIH19XHJcbiAgICAgICAgICBjb250ZW50RWRpdGFibGU9XCJ0cnVlXCJcclxuICAgICAgICAgIGlkPXtwcm9wcy5pZCArIFwiZGl2XCJ9XHJcbiAgICAgICAgICBzdHlsZT17eyBkaXNwbGF5OiBwcm9wcy5pc09wZW4gPyBcImJsb2NrXCIgOiBcIm5vbmVcIiB9fVxyXG4gICAgICAgID5cclxuICAgICAgICAgIHtwcm9wcy5kZXNjfVxyXG4gICAgICAgIDwvZGl2PlxyXG4gICAgICApfVxyXG4gICAgPC9saT5cclxuICApO1xyXG59O1xyXG5cclxuZXhwb3J0IGRlZmF1bHQgbWVtb2l6ZShUb2RvKTtcclxuIl19
//# sourceMappingURL=todo.js.map
