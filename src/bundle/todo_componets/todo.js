import { dom, Fragment, memoize } from "../mact/index.js";
import moment from 'moment';
import { initState } from "./index"; // Todo Component

const Todo = props => {
  function renderTodo() {
    let todo = props.title == null ? "Junk data" : props.title;
    return todo;
  }

  function Delete_Click(e) {
    if (confirm("Do you want to delete this record ?")) {
      initState.actions.HandleDelete(e);
    }
  }

  function Done_Click(todo) {
    initState.actions.HandleDone(todo);
  }

  return dom("li", {
    class: "todoItem"
  }, props.done === true ? dom("del", null, " ", renderTodo(), " ") : renderTodo(), dom("br", null), moment(props.date).format("MMM Do YY"), dom("button", {
    onClick: e => {
      Delete_Click(props.id);
    }
  }, "X"), dom("button", {
    onClick: e => {
      Done_Click(props);
    }
  }, props.done == true ? "undone" : "done"), props.desc != null && dom("button", {
    onClick: e => {
      $("#" + props.id + "div").slideToggle();
      initState.actions.HandleOpenClose(props);
    }
  }, "..."), dom("br", null), props.desc != null && dom("div", {
    class: "desc",
    onBlur: e => {
      var todo = {
        id: props.id,
        desc: e.target.innerHTML,
        isOpen: true
      };
      initState.actions.HandleChange(todo);
    },
    contentEditable: "true",
    id: props.id + "div" // style={{ display: props.isOpen ? "block" : "none" }}

  }, props.desc));
};

export default memoize(Todo);
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi4uLy4uLy4uL2pzeC90b2RvX2NvbXBvbmV0cy90b2RvLmpzIl0sIm5hbWVzIjpbImRvbSIsIkZyYWdtZW50IiwibWVtb2l6ZSIsIm1vbWVudCIsImluaXRTdGF0ZSIsIlRvZG8iLCJwcm9wcyIsInJlbmRlclRvZG8iLCJ0b2RvIiwidGl0bGUiLCJEZWxldGVfQ2xpY2siLCJlIiwiY29uZmlybSIsImFjdGlvbnMiLCJIYW5kbGVEZWxldGUiLCJEb25lX0NsaWNrIiwiSGFuZGxlRG9uZSIsImRvbmUiLCJkYXRlIiwiZm9ybWF0IiwiaWQiLCJkZXNjIiwiJCIsInNsaWRlVG9nZ2xlIiwiSGFuZGxlT3BlbkNsb3NlIiwidGFyZ2V0IiwiaW5uZXJIVE1MIiwiaXNPcGVuIiwiSGFuZGxlQ2hhbmdlIl0sIm1hcHBpbmdzIjoiQUFBQSxTQUFTQSxHQUFULEVBQWNDLFFBQWQsRUFBd0JDLE9BQXhCLFFBQXVDLGtCQUF2QztBQUNBLE9BQU9DLE1BQVAsTUFBbUIsUUFBbkI7QUFDQSxTQUFTQyxTQUFULFFBQTBCLFNBQTFCLEMsQ0FDQTs7QUFDQSxNQUFNQyxJQUFJLEdBQUlDLEtBQUQsSUFBVztBQUN0QixXQUFTQyxVQUFULEdBQXNCO0FBQ3BCLFFBQUlDLElBQUksR0FBR0YsS0FBSyxDQUFDRyxLQUFOLElBQWUsSUFBZixHQUFzQixXQUF0QixHQUFvQ0gsS0FBSyxDQUFDRyxLQUFyRDtBQUNBLFdBQU9ELElBQVA7QUFDRDs7QUFFRCxXQUFTRSxZQUFULENBQXNCQyxDQUF0QixFQUF5QjtBQUN2QixRQUFJQyxPQUFPLENBQUMscUNBQUQsQ0FBWCxFQUFvRDtBQUNsRFIsTUFBQUEsU0FBUyxDQUFDUyxPQUFWLENBQWtCQyxZQUFsQixDQUErQkgsQ0FBL0I7QUFDRDtBQUNGOztBQUVELFdBQVNJLFVBQVQsQ0FBb0JQLElBQXBCLEVBQTBCO0FBQ3hCSixJQUFBQSxTQUFTLENBQUNTLE9BQVYsQ0FBa0JHLFVBQWxCLENBQTZCUixJQUE3QjtBQUNEOztBQUVELFNBQ0U7QUFBSSxJQUFBLEtBQUssRUFBQztBQUFWLEtBQ0dGLEtBQUssQ0FBQ1csSUFBTixLQUFlLElBQWYsR0FBc0Isc0JBQU9WLFVBQVUsRUFBakIsTUFBdEIsR0FBb0RBLFVBQVUsRUFEakUsRUFFQyxlQUZELEVBR0dKLE1BQU0sQ0FBQ0csS0FBSyxDQUFDWSxJQUFQLENBQU4sQ0FBbUJDLE1BQW5CLENBQTBCLFdBQTFCLENBSEgsRUFJRTtBQUNFLElBQUEsT0FBTyxFQUFHUixDQUFELElBQU87QUFDZEQsTUFBQUEsWUFBWSxDQUFDSixLQUFLLENBQUNjLEVBQVAsQ0FBWjtBQUNEO0FBSEgsU0FKRixFQVdFO0FBQ0UsSUFBQSxPQUFPLEVBQUdULENBQUQsSUFBTztBQUNkSSxNQUFBQSxVQUFVLENBQUNULEtBQUQsQ0FBVjtBQUNEO0FBSEgsS0FLR0EsS0FBSyxDQUFDVyxJQUFOLElBQWMsSUFBZCxHQUFxQixRQUFyQixHQUFnQyxNQUxuQyxDQVhGLEVBa0JHWCxLQUFLLENBQUNlLElBQU4sSUFBYyxJQUFkLElBQ0M7QUFDRSxJQUFBLE9BQU8sRUFBR1YsQ0FBRCxJQUFPO0FBQ2RXLE1BQUFBLENBQUMsQ0FBQyxNQUFNaEIsS0FBSyxDQUFDYyxFQUFaLEdBQWlCLEtBQWxCLENBQUQsQ0FBMEJHLFdBQTFCO0FBQ0FuQixNQUFBQSxTQUFTLENBQUNTLE9BQVYsQ0FBa0JXLGVBQWxCLENBQWtDbEIsS0FBbEM7QUFDRDtBQUpILFdBbkJKLEVBNEJFLGVBNUJGLEVBNkJHQSxLQUFLLENBQUNlLElBQU4sSUFBYyxJQUFkLElBQ0M7QUFBSyxJQUFBLEtBQUssRUFBQyxNQUFYO0FBQ0UsSUFBQSxNQUFNLEVBQUdWLENBQUQsSUFBTztBQUNiLFVBQUlILElBQUksR0FBRztBQUNUWSxRQUFBQSxFQUFFLEVBQUVkLEtBQUssQ0FBQ2MsRUFERDtBQUVUQyxRQUFBQSxJQUFJLEVBQUVWLENBQUMsQ0FBQ2MsTUFBRixDQUFTQyxTQUZOO0FBR1RDLFFBQUFBLE1BQU0sRUFBRTtBQUhDLE9BQVg7QUFNQXZCLE1BQUFBLFNBQVMsQ0FBQ1MsT0FBVixDQUFrQmUsWUFBbEIsQ0FBK0JwQixJQUEvQjtBQUNELEtBVEg7QUFVRSxJQUFBLGVBQWUsRUFBQyxNQVZsQjtBQVdFLElBQUEsRUFBRSxFQUFFRixLQUFLLENBQUNjLEVBQU4sR0FBVyxLQVhqQixDQVlFOztBQVpGLEtBY0dkLEtBQUssQ0FBQ2UsSUFkVCxDQTlCSixDQURGO0FBa0RELENBbEVEOztBQW9FQSxlQUFlbkIsT0FBTyxDQUFDRyxJQUFELENBQXRCIiwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgZG9tLCBGcmFnbWVudCwgbWVtb2l6ZSB9IGZyb20gXCIuLi9tYWN0L2luZGV4LmpzXCI7XHJcbmltcG9ydCBtb21lbnQgZnJvbSAnbW9tZW50J1xyXG5pbXBvcnQgeyBpbml0U3RhdGUgfSBmcm9tIFwiLi9pbmRleFwiO1xyXG4vLyBUb2RvIENvbXBvbmVudFxyXG5jb25zdCBUb2RvID0gKHByb3BzKSA9PiB7XHJcbiAgZnVuY3Rpb24gcmVuZGVyVG9kbygpIHtcclxuICAgIGxldCB0b2RvID0gcHJvcHMudGl0bGUgPT0gbnVsbCA/IFwiSnVuayBkYXRhXCIgOiBwcm9wcy50aXRsZTtcclxuICAgIHJldHVybiB0b2RvO1xyXG4gIH1cclxuXHJcbiAgZnVuY3Rpb24gRGVsZXRlX0NsaWNrKGUpIHtcclxuICAgIGlmIChjb25maXJtKFwiRG8geW91IHdhbnQgdG8gZGVsZXRlIHRoaXMgcmVjb3JkID9cIikpIHtcclxuICAgICAgaW5pdFN0YXRlLmFjdGlvbnMuSGFuZGxlRGVsZXRlKGUpO1xyXG4gICAgfVxyXG4gIH1cclxuXHJcbiAgZnVuY3Rpb24gRG9uZV9DbGljayh0b2RvKSB7XHJcbiAgICBpbml0U3RhdGUuYWN0aW9ucy5IYW5kbGVEb25lKHRvZG8pO1xyXG4gIH1cclxuXHJcbiAgcmV0dXJuIChcclxuICAgIDxsaSBjbGFzcz1cInRvZG9JdGVtXCI+XHJcbiAgICAgIHtwcm9wcy5kb25lID09PSB0cnVlID8gPGRlbD4ge3JlbmRlclRvZG8oKX0gPC9kZWw+IDogcmVuZGVyVG9kbygpfVxyXG4gICAgIDxiciAvPlxyXG4gICAgICB7bW9tZW50KHByb3BzLmRhdGUpLmZvcm1hdChcIk1NTSBEbyBZWVwiKX1cclxuICAgICAgPGJ1dHRvblxyXG4gICAgICAgIG9uQ2xpY2s9eyhlKSA9PiB7XHJcbiAgICAgICAgICBEZWxldGVfQ2xpY2socHJvcHMuaWQpO1xyXG4gICAgICAgIH19XHJcbiAgICAgID5cclxuICAgICAgICBYXHJcbiAgICAgIDwvYnV0dG9uPlxyXG4gICAgICA8YnV0dG9uXHJcbiAgICAgICAgb25DbGljaz17KGUpID0+IHtcclxuICAgICAgICAgIERvbmVfQ2xpY2socHJvcHMpO1xyXG4gICAgICAgIH19XHJcbiAgICAgID5cclxuICAgICAgICB7cHJvcHMuZG9uZSA9PSB0cnVlID8gXCJ1bmRvbmVcIiA6IFwiZG9uZVwifVxyXG4gICAgICA8L2J1dHRvbj5cclxuICAgICAge3Byb3BzLmRlc2MgIT0gbnVsbCAmJiAoXHJcbiAgICAgICAgPGJ1dHRvblxyXG4gICAgICAgICAgb25DbGljaz17KGUpID0+IHtcclxuICAgICAgICAgICAgJChcIiNcIiArIHByb3BzLmlkICsgXCJkaXZcIikuc2xpZGVUb2dnbGUoKTtcclxuICAgICAgICAgICAgaW5pdFN0YXRlLmFjdGlvbnMuSGFuZGxlT3BlbkNsb3NlKHByb3BzKTtcclxuICAgICAgICAgIH19XHJcbiAgICAgICAgPlxyXG4gICAgICAgICAgLi4uXHJcbiAgICAgICAgPC9idXR0b24+XHJcbiAgICAgICl9XHJcbiAgICAgIDxiciAvPlxyXG4gICAgICB7cHJvcHMuZGVzYyAhPSBudWxsICYmIChcclxuICAgICAgICA8ZGl2IGNsYXNzPVwiZGVzY1wiXHJcbiAgICAgICAgICBvbkJsdXI9eyhlKSA9PiB7XHJcbiAgICAgICAgICAgIHZhciB0b2RvID0ge1xyXG4gICAgICAgICAgICAgIGlkOiBwcm9wcy5pZCxcclxuICAgICAgICAgICAgICBkZXNjOiBlLnRhcmdldC5pbm5lckhUTUwsXHJcbiAgICAgICAgICAgICAgaXNPcGVuOiB0cnVlLFxyXG4gICAgICAgICAgICB9O1xyXG5cclxuICAgICAgICAgICAgaW5pdFN0YXRlLmFjdGlvbnMuSGFuZGxlQ2hhbmdlKHRvZG8pO1xyXG4gICAgICAgICAgfX1cclxuICAgICAgICAgIGNvbnRlbnRFZGl0YWJsZT1cInRydWVcIlxyXG4gICAgICAgICAgaWQ9e3Byb3BzLmlkICsgXCJkaXZcIn1cclxuICAgICAgICAgIC8vIHN0eWxlPXt7IGRpc3BsYXk6IHByb3BzLmlzT3BlbiA/IFwiYmxvY2tcIiA6IFwibm9uZVwiIH19XHJcbiAgICAgICAgPlxyXG4gICAgICAgICAge3Byb3BzLmRlc2N9XHJcbiAgICAgICAgPC9kaXY+XHJcbiAgICAgICl9XHJcbiAgICA8L2xpPlxyXG4gICk7XHJcbn07XHJcblxyXG5leHBvcnQgZGVmYXVsdCBtZW1vaXplKFRvZG8pO1xyXG4iXX0=
//# sourceMappingURL=todo.js.map
