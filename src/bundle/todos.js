import { dom, Fragment } from "./mact/index.js";
import { Container } from "./todo_componets/index";
import initState from "./todo_componets/initialstate";

function FetchTodos() {
  const url = "http://localhost:3000/todos";
  return new Promise((resolve, reject) => {
    $.get(url).then(d => {
      resolve(d);
    });
  });
}

export const BootTodo = (props, container = "root") => {
  if (initState.state.todos.length === 0) {
    FetchTodos().then(d => {
      initState.state.todos = initState.transformToVM(d);
      document.getElementById(container).innerHTML = "";
      document.getElementById(container).appendChild(dom(Container, initState.state));
    });
  } else {
    props = initState.state;
    document.getElementById(container).innerHTML = "";
    document.getElementById(container).appendChild(dom(Container, props));
  }
};
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi4uLy4uL2pzeC90b2Rvcy5qcyJdLCJuYW1lcyI6WyJkb20iLCJGcmFnbWVudCIsIkNvbnRhaW5lciIsImluaXRTdGF0ZSIsIkZldGNoVG9kb3MiLCJ1cmwiLCJQcm9taXNlIiwicmVzb2x2ZSIsInJlamVjdCIsIiQiLCJnZXQiLCJ0aGVuIiwiZCIsIkJvb3RUb2RvIiwicHJvcHMiLCJjb250YWluZXIiLCJzdGF0ZSIsInRvZG9zIiwibGVuZ3RoIiwidHJhbnNmb3JtVG9WTSIsImRvY3VtZW50IiwiZ2V0RWxlbWVudEJ5SWQiLCJpbm5lckhUTUwiLCJhcHBlbmRDaGlsZCJdLCJtYXBwaW5ncyI6IkFBQUEsU0FBU0EsR0FBVCxFQUFjQyxRQUFkLFFBQThCLGlCQUE5QjtBQUVBLFNBQVNDLFNBQVQsUUFBMEIsd0JBQTFCO0FBRUEsT0FBT0MsU0FBUCxNQUFzQiwrQkFBdEI7O0FBQ0EsU0FBU0MsVUFBVCxHQUFzQjtBQUNwQixRQUFNQyxHQUFHLEdBQUcsNkJBQVo7QUFDQSxTQUFPLElBQUlDLE9BQUosQ0FBWSxDQUFDQyxPQUFELEVBQVVDLE1BQVYsS0FBcUI7QUFDdENDLElBQUFBLENBQUMsQ0FBQ0MsR0FBRixDQUFNTCxHQUFOLEVBQVdNLElBQVgsQ0FBaUJDLENBQUQsSUFBTztBQUNyQkwsTUFBQUEsT0FBTyxDQUFDSyxDQUFELENBQVA7QUFDRCxLQUZEO0FBR0QsR0FKTSxDQUFQO0FBS0Q7O0FBRUQsT0FBTyxNQUFNQyxRQUFRLEdBQUcsQ0FBQ0MsS0FBRCxFQUFRQyxTQUFTLEdBQUcsTUFBcEIsS0FBK0I7QUFDckQsTUFBSVosU0FBUyxDQUFDYSxLQUFWLENBQWdCQyxLQUFoQixDQUFzQkMsTUFBdEIsS0FBaUMsQ0FBckMsRUFBd0M7QUFDdENkLElBQUFBLFVBQVUsR0FBR08sSUFBYixDQUFtQkMsQ0FBRCxJQUFPO0FBQ3ZCVCxNQUFBQSxTQUFTLENBQUNhLEtBQVYsQ0FBZ0JDLEtBQWhCLEdBQXdCZCxTQUFTLENBQUNnQixhQUFWLENBQXdCUCxDQUF4QixDQUF4QjtBQUNBUSxNQUFBQSxRQUFRLENBQUNDLGNBQVQsQ0FBd0JOLFNBQXhCLEVBQW1DTyxTQUFuQyxHQUErQyxFQUEvQztBQUNBRixNQUFBQSxRQUFRLENBQ0xDLGNBREgsQ0FDa0JOLFNBRGxCLEVBRUdRLFdBRkgsQ0FFZSxJQUFDLFNBQUQsRUFBZXBCLFNBQVMsQ0FBQ2EsS0FBekIsQ0FGZjtBQUdELEtBTkQ7QUFPRCxHQVJELE1BUU87QUFDTEYsSUFBQUEsS0FBSyxHQUFHWCxTQUFTLENBQUNhLEtBQWxCO0FBQ0FJLElBQUFBLFFBQVEsQ0FBQ0MsY0FBVCxDQUF3Qk4sU0FBeEIsRUFBbUNPLFNBQW5DLEdBQStDLEVBQS9DO0FBQ0FGLElBQUFBLFFBQVEsQ0FBQ0MsY0FBVCxDQUF3Qk4sU0FBeEIsRUFBbUNRLFdBQW5DLENBQStDLElBQUMsU0FBRCxFQUFlVCxLQUFmLENBQS9DO0FBQ0Q7QUFDRixDQWRNIiwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgZG9tLCBGcmFnbWVudCB9IGZyb20gXCIuL21hY3QvaW5kZXguanNcIjtcclxuXHJcbmltcG9ydCB7IENvbnRhaW5lciB9IGZyb20gXCIuL3RvZG9fY29tcG9uZXRzL2luZGV4XCI7XHJcblxyXG5pbXBvcnQgaW5pdFN0YXRlIGZyb20gXCIuL3RvZG9fY29tcG9uZXRzL2luaXRpYWxzdGF0ZVwiO1xyXG5mdW5jdGlvbiBGZXRjaFRvZG9zKCkge1xyXG4gIGNvbnN0IHVybCA9IFwiaHR0cDovL2xvY2FsaG9zdDozMDAwL3RvZG9zXCI7XHJcbiAgcmV0dXJuIG5ldyBQcm9taXNlKChyZXNvbHZlLCByZWplY3QpID0+IHtcclxuICAgICQuZ2V0KHVybCkudGhlbigoZCkgPT4ge1xyXG4gICAgICByZXNvbHZlKGQpO1xyXG4gICAgfSk7XHJcbiAgfSk7XHJcbn1cclxuXHJcbmV4cG9ydCBjb25zdCBCb290VG9kbyA9IChwcm9wcywgY29udGFpbmVyID0gXCJyb290XCIpID0+IHtcclxuICBpZiAoaW5pdFN0YXRlLnN0YXRlLnRvZG9zLmxlbmd0aCA9PT0gMCkge1xyXG4gICAgRmV0Y2hUb2RvcygpLnRoZW4oKGQpID0+IHtcclxuICAgICAgaW5pdFN0YXRlLnN0YXRlLnRvZG9zID0gaW5pdFN0YXRlLnRyYW5zZm9ybVRvVk0oZCk7XHJcbiAgICAgIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKGNvbnRhaW5lcikuaW5uZXJIVE1MID0gXCJcIjtcclxuICAgICAgZG9jdW1lbnRcclxuICAgICAgICAuZ2V0RWxlbWVudEJ5SWQoY29udGFpbmVyKVxyXG4gICAgICAgIC5hcHBlbmRDaGlsZCg8Q29udGFpbmVyIHsuLi5pbml0U3RhdGUuc3RhdGV9IC8+KTtcclxuICAgIH0pO1xyXG4gIH0gZWxzZSB7XHJcbiAgICBwcm9wcyA9IGluaXRTdGF0ZS5zdGF0ZTtcclxuICAgIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKGNvbnRhaW5lcikuaW5uZXJIVE1MID0gXCJcIjtcclxuICAgIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKGNvbnRhaW5lcikuYXBwZW5kQ2hpbGQoPENvbnRhaW5lciB7Li4ucHJvcHN9IC8+KTtcclxuICB9XHJcbn07XHJcbiJdfQ==
//# sourceMappingURL=todos.js.map
