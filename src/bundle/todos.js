import { dom, Fragment } from "./mact/index.js";
import { Container } from "./todo_componets/index";
import initState from "./todo_componets/initialstate";

function FetchTodos() {
  const url = "http://localhost:3000/todos";
  return new Promise((resolve, reject) => {
    $.get(url).then(d => {
      resolve(d);
    });
  });
}

export const BootTodo = (props, container = "root") => {
  if (initState.state.todos.length === 0) {
    FetchTodos().then(d => {
      initState.state.todos = d;
      document.getElementById(container).innerHTML = "";
      document.getElementById(container).appendChild(dom(Container, initState.state));
    });
  } else {
    props = initState.state;
    document.getElementById(container).innerHTML = "";
    document.getElementById(container).appendChild(dom(Container, props));
  }
};
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi4uLy4uL2pzeC90b2Rvcy5qcyJdLCJuYW1lcyI6WyJkb20iLCJGcmFnbWVudCIsIkNvbnRhaW5lciIsImluaXRTdGF0ZSIsIkZldGNoVG9kb3MiLCJ1cmwiLCJQcm9taXNlIiwicmVzb2x2ZSIsInJlamVjdCIsIiQiLCJnZXQiLCJ0aGVuIiwiZCIsIkJvb3RUb2RvIiwicHJvcHMiLCJjb250YWluZXIiLCJzdGF0ZSIsInRvZG9zIiwibGVuZ3RoIiwiZG9jdW1lbnQiLCJnZXRFbGVtZW50QnlJZCIsImlubmVySFRNTCIsImFwcGVuZENoaWxkIl0sIm1hcHBpbmdzIjoiQUFBQSxTQUFTQSxHQUFULEVBQWNDLFFBQWQsUUFBOEIsaUJBQTlCO0FBRUEsU0FBU0MsU0FBVCxRQUEwQix3QkFBMUI7QUFFQSxPQUFPQyxTQUFQLE1BQXNCLCtCQUF0Qjs7QUFDQSxTQUFTQyxVQUFULEdBQXNCO0FBQ3BCLFFBQU1DLEdBQUcsR0FBRyw2QkFBWjtBQUNBLFNBQU8sSUFBSUMsT0FBSixDQUFZLENBQUNDLE9BQUQsRUFBVUMsTUFBVixLQUFxQjtBQUN0Q0MsSUFBQUEsQ0FBQyxDQUFDQyxHQUFGLENBQU1MLEdBQU4sRUFBV00sSUFBWCxDQUFpQkMsQ0FBRCxJQUFPO0FBQ3JCTCxNQUFBQSxPQUFPLENBQUNLLENBQUQsQ0FBUDtBQUNELEtBRkQ7QUFHRCxHQUpNLENBQVA7QUFLRDs7QUFFRCxPQUFPLE1BQU1DLFFBQVEsR0FBRyxDQUFDQyxLQUFELEVBQVFDLFNBQVMsR0FBRyxNQUFwQixLQUErQjtBQUNyRCxNQUFJWixTQUFTLENBQUNhLEtBQVYsQ0FBZ0JDLEtBQWhCLENBQXNCQyxNQUF0QixLQUFpQyxDQUFyQyxFQUF3QztBQUN0Q2QsSUFBQUEsVUFBVSxHQUFHTyxJQUFiLENBQW1CQyxDQUFELElBQU87QUFDdkJULE1BQUFBLFNBQVMsQ0FBQ2EsS0FBVixDQUFnQkMsS0FBaEIsR0FBd0JMLENBQXhCO0FBQ0FPLE1BQUFBLFFBQVEsQ0FBQ0MsY0FBVCxDQUF3QkwsU0FBeEIsRUFBbUNNLFNBQW5DLEdBQStDLEVBQS9DO0FBQ0FGLE1BQUFBLFFBQVEsQ0FDTEMsY0FESCxDQUNrQkwsU0FEbEIsRUFFR08sV0FGSCxDQUVlLElBQUMsU0FBRCxFQUFlbkIsU0FBUyxDQUFDYSxLQUF6QixDQUZmO0FBR0QsS0FORDtBQU9ELEdBUkQsTUFRTztBQUNMRixJQUFBQSxLQUFLLEdBQUdYLFNBQVMsQ0FBQ2EsS0FBbEI7QUFDQUcsSUFBQUEsUUFBUSxDQUFDQyxjQUFULENBQXdCTCxTQUF4QixFQUFtQ00sU0FBbkMsR0FBK0MsRUFBL0M7QUFDQUYsSUFBQUEsUUFBUSxDQUFDQyxjQUFULENBQXdCTCxTQUF4QixFQUFtQ08sV0FBbkMsQ0FBK0MsSUFBQyxTQUFELEVBQWVSLEtBQWYsQ0FBL0M7QUFDRDtBQUNGLENBZE0iLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBkb20sIEZyYWdtZW50IH0gZnJvbSBcIi4vbWFjdC9pbmRleC5qc1wiO1xyXG5cclxuaW1wb3J0IHsgQ29udGFpbmVyIH0gZnJvbSBcIi4vdG9kb19jb21wb25ldHMvaW5kZXhcIjtcclxuXHJcbmltcG9ydCBpbml0U3RhdGUgZnJvbSBcIi4vdG9kb19jb21wb25ldHMvaW5pdGlhbHN0YXRlXCI7XHJcbmZ1bmN0aW9uIEZldGNoVG9kb3MoKSB7XHJcbiAgY29uc3QgdXJsID0gXCJodHRwOi8vbG9jYWxob3N0OjMwMDAvdG9kb3NcIjtcclxuICByZXR1cm4gbmV3IFByb21pc2UoKHJlc29sdmUsIHJlamVjdCkgPT4ge1xyXG4gICAgJC5nZXQodXJsKS50aGVuKChkKSA9PiB7XHJcbiAgICAgIHJlc29sdmUoZCk7XHJcbiAgICB9KTtcclxuICB9KTtcclxufVxyXG5cclxuZXhwb3J0IGNvbnN0IEJvb3RUb2RvID0gKHByb3BzLCBjb250YWluZXIgPSBcInJvb3RcIikgPT4ge1xyXG4gIGlmIChpbml0U3RhdGUuc3RhdGUudG9kb3MubGVuZ3RoID09PSAwKSB7XHJcbiAgICBGZXRjaFRvZG9zKCkudGhlbigoZCkgPT4ge1xyXG4gICAgICBpbml0U3RhdGUuc3RhdGUudG9kb3MgPSBkO1xyXG4gICAgICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChjb250YWluZXIpLmlubmVySFRNTCA9IFwiXCI7XHJcbiAgICAgIGRvY3VtZW50XHJcbiAgICAgICAgLmdldEVsZW1lbnRCeUlkKGNvbnRhaW5lcilcclxuICAgICAgICAuYXBwZW5kQ2hpbGQoPENvbnRhaW5lciB7Li4uaW5pdFN0YXRlLnN0YXRlfSAvPik7XHJcbiAgICB9KTtcclxuICB9IGVsc2Uge1xyXG4gICAgcHJvcHMgPSBpbml0U3RhdGUuc3RhdGU7XHJcbiAgICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChjb250YWluZXIpLmlubmVySFRNTCA9IFwiXCI7XHJcbiAgICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChjb250YWluZXIpLmFwcGVuZENoaWxkKDxDb250YWluZXIgey4uLnByb3BzfSAvPik7XHJcbiAgfVxyXG59O1xyXG4iXX0=
//# sourceMappingURL=todos.js.map
