import dom, { Fragment } from "./dom.js";
import JSXComponent from "./JSXComponent.js";

const constructPropertyFromArgs = function (fnToMemoize, args) {
  let propToCheck = [];
  if (typeof args === 'object') args = JSON.stringify(args);
  propToCheck = propToCheck.concat(fnToMemoize.name, args);
  return propToCheck.join('|'); // A delimiter to join args
}; //  `memoize` function  decides if it has to return cached value or call the summation function


const memoize = function (fnToMemoize) {
  const memoizedCache = {}; // A closeure Object

  return function (...args) {
    const propToCheck = constructPropertyFromArgs(fnToMemoize, args);

    if (!memoizedCache[propToCheck]) {
      memoizedCache[propToCheck] = fnToMemoize(...args);
    } else {
      console.log('From Cache ');
    }

    return memoizedCache[propToCheck];
  };
};

export { dom, Fragment, JSXComponent, memoize };
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi4uLy4uLy4uL2pzeC9tYWN0L2luZGV4LmpzIl0sIm5hbWVzIjpbImRvbSIsIkZyYWdtZW50IiwiSlNYQ29tcG9uZW50IiwiY29uc3RydWN0UHJvcGVydHlGcm9tQXJncyIsImZuVG9NZW1vaXplIiwiYXJncyIsInByb3BUb0NoZWNrIiwiSlNPTiIsInN0cmluZ2lmeSIsImNvbmNhdCIsIm5hbWUiLCJqb2luIiwibWVtb2l6ZSIsIm1lbW9pemVkQ2FjaGUiLCJjb25zb2xlIiwibG9nIl0sIm1hcHBpbmdzIjoiQUFBQSxPQUFPQSxHQUFQLElBQWNDLFFBQWQsUUFBOEIsVUFBOUI7QUFDQSxPQUFPQyxZQUFQLE1BQXlCLG1CQUF6Qjs7QUFDQSxNQUFNQyx5QkFBeUIsR0FBRyxVQUFVQyxXQUFWLEVBQXVCQyxJQUF2QixFQUE2QjtBQUMzRCxNQUFJQyxXQUFXLEdBQUcsRUFBbEI7QUFDQSxNQUFHLE9BQU9ELElBQVAsS0FBZ0IsUUFBbkIsRUFBNkJBLElBQUksR0FBR0UsSUFBSSxDQUFDQyxTQUFMLENBQWVILElBQWYsQ0FBUDtBQUM3QkMsRUFBQUEsV0FBVyxHQUFHQSxXQUFXLENBQUNHLE1BQVosQ0FBbUJMLFdBQVcsQ0FBQ00sSUFBL0IsRUFBcUNMLElBQXJDLENBQWQ7QUFDQSxTQUFPQyxXQUFXLENBQUNLLElBQVosQ0FBaUIsR0FBakIsQ0FBUCxDQUoyRCxDQUk3QjtBQUMvQixDQUxILEMsQ0FPRTs7O0FBQ0EsTUFBTUMsT0FBTyxHQUFHLFVBQVVSLFdBQVYsRUFBdUI7QUFDckMsUUFBTVMsYUFBYSxHQUFHLEVBQXRCLENBRHFDLENBQ0c7O0FBQ3hDLFNBQU8sVUFBUyxHQUFHUixJQUFaLEVBQWtCO0FBQ3ZCLFVBQU1DLFdBQVcsR0FBR0gseUJBQXlCLENBQUNDLFdBQUQsRUFBY0MsSUFBZCxDQUE3Qzs7QUFDQSxRQUFJLENBQUNRLGFBQWEsQ0FBQ1AsV0FBRCxDQUFsQixFQUFpQztBQUMvQk8sTUFBQUEsYUFBYSxDQUFDUCxXQUFELENBQWIsR0FBNkJGLFdBQVcsQ0FBQyxHQUFHQyxJQUFKLENBQXhDO0FBQ0QsS0FGRCxNQUVRO0FBQ05TLE1BQUFBLE9BQU8sQ0FBQ0MsR0FBUixDQUFZLGFBQVo7QUFDRDs7QUFDRCxXQUFPRixhQUFhLENBQUNQLFdBQUQsQ0FBcEI7QUFDRCxHQVJEO0FBU0QsQ0FYRDs7QUFjRixTQUFTTixHQUFULEVBQWNDLFFBQWQsRUFBd0JDLFlBQXhCLEVBQXVDVSxPQUF2QyIsInNvdXJjZXNDb250ZW50IjpbImltcG9ydCBkb20sIHsgRnJhZ21lbnQgfSBmcm9tIFwiLi9kb20uanNcIjtcclxuaW1wb3J0IEpTWENvbXBvbmVudCBmcm9tIFwiLi9KU1hDb21wb25lbnQuanNcIjtcclxuY29uc3QgY29uc3RydWN0UHJvcGVydHlGcm9tQXJncyA9IGZ1bmN0aW9uIChmblRvTWVtb2l6ZSwgYXJncykge1xyXG4gICAgbGV0IHByb3BUb0NoZWNrID0gW107XHJcbiAgICBpZih0eXBlb2YgYXJncyA9PT0gJ29iamVjdCcpIGFyZ3MgPSBKU09OLnN0cmluZ2lmeShhcmdzKVxyXG4gICAgcHJvcFRvQ2hlY2sgPSBwcm9wVG9DaGVjay5jb25jYXQoZm5Ub01lbW9pemUubmFtZSwgYXJncyk7XHJcbiAgICByZXR1cm4gcHJvcFRvQ2hlY2suam9pbignfCcpOyAvLyBBIGRlbGltaXRlciB0byBqb2luIGFyZ3NcclxuICB9XHJcbiAgXHJcbiAgLy8gIGBtZW1vaXplYCBmdW5jdGlvbiAgZGVjaWRlcyBpZiBpdCBoYXMgdG8gcmV0dXJuIGNhY2hlZCB2YWx1ZSBvciBjYWxsIHRoZSBzdW1tYXRpb24gZnVuY3Rpb25cclxuICBjb25zdCBtZW1vaXplID0gZnVuY3Rpb24gKGZuVG9NZW1vaXplKSB7XHJcbiAgICBjb25zdCBtZW1vaXplZENhY2hlID0ge30gICAgICAgICAgICAgICAgLy8gQSBjbG9zZXVyZSBPYmplY3RcclxuICAgIHJldHVybiBmdW5jdGlvbiguLi5hcmdzKSB7XHJcbiAgICAgIGNvbnN0IHByb3BUb0NoZWNrID0gY29uc3RydWN0UHJvcGVydHlGcm9tQXJncyhmblRvTWVtb2l6ZSwgYXJncyk7XHJcbiAgICAgIGlmICghbWVtb2l6ZWRDYWNoZVtwcm9wVG9DaGVja10pIHtcclxuICAgICAgICBtZW1vaXplZENhY2hlW3Byb3BUb0NoZWNrXSA9IGZuVG9NZW1vaXplKC4uLmFyZ3MpO1xyXG4gICAgICB9IGVsc2UgIHtcclxuICAgICAgICBjb25zb2xlLmxvZygnRnJvbSBDYWNoZSAnKTtcclxuICAgICAgfVxyXG4gICAgICByZXR1cm4gbWVtb2l6ZWRDYWNoZVtwcm9wVG9DaGVja107XHJcbiAgICB9XHJcbiAgfVxyXG4gIFxyXG5cclxuZXhwb3J0IHsgZG9tLCBGcmFnbWVudCwgSlNYQ29tcG9uZW50ICwgbWVtb2l6ZSB9O1xyXG5cclxuXHJcbiJdfQ==
//# sourceMappingURL=index.js.map
