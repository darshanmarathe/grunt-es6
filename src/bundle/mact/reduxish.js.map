{"version":3,"sources":["../../../jsx/mact/reduxish.js"],"names":["dom","updateElement","parent","next","prev","isEqualNode","replaceChild","firstChild","withState","elements","store","parentNode","nextProps","subscribe","nextNode","props","ref","node"],"mappings":"AAAA,OAAOA,GAAP,MAAgB,OAAhB;;AAEA,SAASC,aAAT,CAAuBC,MAAvB,EAA+BC,IAA/B,EAAqCC,IAArC,EAA2C;AACzC;AACA,MAAI,CAACD,IAAI,CAACE,WAAL,CAAiBD,IAAjB,CAAL,EAA6B;AAC3BF,IAAAA,MAAM,CAACI,YAAP,CAAoBH,IAApB,EAA0BD,MAAM,CAACK,UAAjC;AACD;AACF,C,CAED;;;AACA,OAAO,SAASC,SAAT,CAAmBC,QAAnB,EAA6BC,KAA7B,EAAoC;AACzC,MAAIC,UAAJ;AACA,MAAIC,SAAJ;AAEAF,EAAAA,KAAK,CAACG,SAAN,CAAgB,MAAM;AACpB,UAAMC,QAAQ,GAAGd,GAAG,CAAC,MAAMS,QAAQ,CAACG,SAAD,CAAf,CAApB;AACAX,IAAAA,aAAa,CAACU,UAAD,EAAaG,QAAb,EAAuBH,UAAU,CAACJ,UAAlC,CAAb;AACD,GAHD;AAKA,SAAOQ,KAAK,IAAI;AACdH,IAAAA,SAAS,GAAGG,KAAZ;AACA,WAAOf,GAAG,CACR,MADQ,EAER;AACEgB,MAAAA,GAAG,EAAEC,IAAI,IAAI;AACXN,QAAAA,UAAU,GAAGM,IAAb;AACD;AAHH,KAFQ,EAORR,QAAQ,CAACM,KAAD,CAPA,CAAV;AASD,GAXD;AAYD","sourcesContent":["import dom from './dom'\r\n\r\nfunction updateElement(parent, next, prev) {\r\n  // later virtualDOM mods\r\n  if (!next.isEqualNode(prev)) {\r\n    parent.replaceChild(next, parent.firstChild)\r\n  }\r\n}\r\n\r\n// eslint-disable-next-line\r\nexport function withState(elements, store) {\r\n  let parentNode\r\n  let nextProps\r\n\r\n  store.subscribe(() => {\r\n    const nextNode = dom(() => elements(nextProps))\r\n    updateElement(parentNode, nextNode, parentNode.firstChild)\r\n  })\r\n\r\n  return props => {\r\n    nextProps = props\r\n    return dom(\r\n      'span',\r\n      {\r\n        ref: node => {\r\n          parentNode = node\r\n        },\r\n      },\r\n      elements(props),\r\n    )\r\n  }\r\n}\r\n"],"file":"reduxish.js"}